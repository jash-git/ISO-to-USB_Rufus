/*! automatically generated; DO NOT CHANGE : 16:59:51 GMT+0800 (CST) !*/
var _pop=_pop||[];var _popIn5_config={};(function(){var o={};o["collect.pc"]="#_popIn_recommend {         display : none ;     }     ._popIn_recommend_container {         display : none ;     } ";o["responsive.pc"]="._popIn_recommend_container {         padding : 0 0 20px 0 ;         position : relative ;         clear : both ;         overflow : hidden ;     }     ._popIn_noimage a {         background : url(//api.popin.cc/images/noimg.png) no-repeat center ;     }     ._popIn_noimage a img {         display : none ;     }     ._popIn_recommend_art_category {         display : none ;     }     ._popIn_recommend_art_date {         text-align : left ;         display : none ;     }     ._popIn_recommend_art_img {         width : 100% ;         padding-top : 66.6667% ;         margin-bottom : 7px ;         position : relative ;     }     ._popIn_recommend_art_img a {         position : absolute ;         top : 0px ;         left : 0px ;         margin : 0px ;         width : 100% ;         height : 100% ;         display : inline-block ;         overflow : hidden ;         background-position : center ;         background-size : cover ;         background-repeat : no-repeat ;         opacity : 0 ;         transition  : opacity 500ms ;         -moz-transition  : opacity 500ms ;         -o-transition  : opacity 500ms ;         -webkit-transition  : opacity 500ms ;     }     ._popIn_recommend_art_img a img {     }     ._popIn_recommend_art_title {         text-align : left ;         height : 3.9em ;         font-size : 14px ;         line-height : 1.3 ;         font-weight : 500 ;         overflow : hidden ;     }     ._popIn_recommend_art_title a {         text-decoration : none ;     }     ._popIn_recommend_articles {         margin : 0 ;         border-bottom : 1px solid #ccc ;     }     ._popIn_recommend_article {         display : inline-block ;         width : 23% ;         margin : 0 1% 10px ;         position : relative ;         vertical-align : top ;     }     @media screen and (max-width: 720px) {         ._popIn_recommend_article {             width : 48% ;         }     }    ._popIn_recommend_article:hover > ._popIn_recommend_art_title a {         text-decoration : none ;     }     ._popIn_recommend_header {         padding-top : 10px ;         border-top : 1px solid #ccc ;         font-size : 13px ;     }     ._popIn_recommend_no_img {     }     ._popIn_recommend_art_media {         top : 0 ;         left : 0 ;         position : absolute ;         color : #fff ;         padding : 2px ;         font-size : 8px ;         line-height : 10px ;         background : #ccc ;     }     ._popIn_recommend_credit:hover {         opacity : 1 ;     }     ._popIn_recommend_credit {         position : absolute ;         right : 5px ;         font-size : 10px ;         opacity : 0.6 ;         bottom : 5px ;     }     ._popIn_recommend_credit_image {         display : inline-block ;         width : 40px ;         height : 10px ;         margin : 1px 0 0 4px ;         background-image : url(//api.popin.cc/images/logo.png) ;         background-repeat : no-repeat ;         background-position : 0px 0px ;         background-size : 40px 20px ;         vertical-align : text-top ;     }     ._popIn_recommend_container:hover ._popIn_recommend_credit_image {         background-position : 0px -10px ;     } ";o["collect.mobile"]="#_popIn_recommend {         display : none ;     }     ._popIn_recommend_container {         display : none ;     } ";o["standard.mobile"]="#with_recommend ._popIn_infinite_page {         overflow : hidden ;     }     #with_recommend ._popIn_infinite_ad {         padding : 5px 0px ;         border-bottom : 1px solid #CCC ;         line-height : 1 ;         text-align : center ;         box-sizing : initial ;     }     #with_recommend ._popIn_infinite_empty {         display : none ;     }     #with_recommend {         text-align : left ;         margin : 0px ;         padding : 0px 0px 40px 0px ;         position : relative ;         background-color : white ;     }     #with_recommend ._popIn_recommend_header {         font-family : Roboto-Regular,HelveticaNeue,Arial,sans-serif ;         font-size : 14px ;         font-weight : 900 ;         color : #999 ;         border-bottom : 1px solid #CCC ;         padding : 15px 0 7px ;     }     #with_recommend ._popIn_recommend_articles {         white-space : nowrap ;     }     #with_recommend ._popIn_recommend_article {         display : block ;         white-space : normal ;         padding : 10px 0 ;         border-bottom : 1px solid #CCC ;         overflow : hidden ;         clear : both ;     }     #with_recommend ._popIn_recommend_art_title {         text-align : left ;         font-size : 16px ;         line-height : 1.3 ;         padding : 0px ;         overflow : hidden ;         height : 3.8em ;     }     #with_recommend ._popIn_recommend_art_title a {         font-weight : bold ;         text-decoration : none ;         color : #333 ;     }     #with_recommend ._popIn_recommend_art_category {         display : none ;     }     #with_recommend ._popIn_recommend_art_date {         display : none ;         margin : 5px 0px 0px 0px ;         font-size : 10px ;         color : #999 ;     }     #with_recommend ._popIn_recommend_art_media {         margin : 5px 0px 0px 0px ;         font-size : 10px ;         color : #999 ;     }     #with_recommend ._popIn_recommend_art_img {         float : left ;         width : 115px ;         height : 80px ;         background : #f2f2f2 ;         margin-right : 10px ;     }     #with_recommend ._popIn_recommend_art_img a {         margin : 0px ;         width : 100% ;         height : 100% ;         display : inline-block ;         overflow : hidden ;         background-position : center ;         background-size : cover ;         opacity : 0 ;         transition  : opacity 500ms ;         -moz-transition  : opacity 500ms ;         -o-transition  : opacity 500ms ;         -webkit-transition  : opacity 500ms ;     }     #with_recommend ._popIn_recommend_no_img {         display : none ;     }     #with_recommend ._popIn_recommend_art_img a img {     }     #with_recommend ._popIn_recommend_credit {         position : absolute ;         right : 5px ;         font-size : 10px ;         opacity : 0.6 ;         bottom : 20px ;     }     #with_recommend ._popIn_recommend_credit_image {         display : inline-block ;         width : 40px ;         height : 10px ;         margin : 2px 0 0 3px ;         background-image : url(//api.popin.cc/images/logo.png) ;         background-repeat : no-repeat ;         background-position : 0px 0px ;         background-size : 40px 20px ;         vertical-align : text-top ;     }     #with_recommend ._popIn_idx1 {         border-right : solid 1px #ccc ;     }     #with_recommend ._popIn_idx1, #with_recommend ._popIn_idx2 {         width : 50% ;         display : inline-block ;         box-sizing : content-box ;         -webkit-box-sizing : content-box ;         -moz-box-sizing : content-box ;         padding : 10px 0px 15px 0px ;         overflow : hidden ;         vertical-align : top ;     }     #with_recommend ._popIn_idx1 ._popIn_recommend_art_img, #with_recommend ._popIn_idx2 ._popIn_recommend_art_img {         display : block ;         float : none ;         width : 90% ;         height : 110px ;         border : none ;         margin : 0px auto 10px ;         text-align : center ;         overflow : hidden ;     }     #with_recommend ._popIn_idx1 ._popIn_recommend_art_img a, #with_recommend ._popIn_idx2 ._popIn_recommend_art_img a {         width : 100% ;         height : 100% ;         display : inline-block ;         overflow : hidden ;         background-position : top center ;         background-size : cover ;     }     #with_recommend ._popIn_idx1 ._popIn_recommend_art_title, #with_recommend ._popIn_idx2 ._popIn_recommend_art_title {         display : block ;         margin : 0px 7px ;         overflow : hidden ;         height : 3.8em ;     }     #with_recommend ._popIn_idx1 ._popIn_recommend_art_date, #with_recommend ._popIn_idx2 ._popIn_recommend_art_date {         padding : 0px 4px 0px 3px ;     }     #with_recommend ._popIn_idx1 ._popIn_recommend_art_category, #with_recommend ._popIn_idx2 ._popIn_recommend_art_category {         margin : 0px 0px 7px 10px ;     }     #with_recommend ._popIn_idx1 ._popIn_recommend_art_media, #with_recommend ._popIn_idx2 ._popIn_recommend_art_media {         margin : 0px 0px 0px 7px ;         position : absolute ;     }     #with_recommend ._popIn_infinite_video {         border-bottom : 1px solid #CCC ;     } ";var q={};!function(){function z(i){i.fn.swiper=function(s){var B;return i(this).each(function(){var C=new w(this,s);B||(B=C)}),B}}var u,w=function(aA,aw){function ao(i){return Math.floor(i)}function ar(){aD.autoplayTimeoutId=setTimeout(function(){aD.params.loop?(aD.fixLoop(),aD._slideNext(),aD.emit("onAutoplay",aD)):aD.isEnd?aw.autoplayStopOnLast?aD.stopAutoplay():(aD._slideTo(0),aD.emit("onAutoplay",aD)):(aD._slideNext(),aD.emit("onAutoplay",aD))},aD.params.autoplay)}function aq(D,B){var C=u(D.target);if(!C.is(B)){if("string"==typeof B){C=C.parents(B)}else{if(B.nodeType){var s;return C.parents().each(function(E,i){i===B&&(s=B)}),s?B:void 0}}}if(0!==C.length){return C[0]}}function au(C,i){i=i||{};var s=window.MutationObserver||window.WebkitMutationObserver,B=new s(function(D){D.forEach(function(E){aD.onResize(!0),aD.emit("onObserverUpdate",aD,E)})});B.observe(C,{attributes:"undefined"==typeof i.attributes?!0:i.attributes,childList:"undefined"==typeof i.childList?!0:i.childList,characterData:"undefined"==typeof i.characterData?!0:i.characterData}),aD.observers.push(B)}function ap(I){I.originalEvent&&(I=I.originalEvent);var L=I.keyCode||I.charCode;if(!aD.params.allowSwipeToNext&&(aD.isHorizontal()&&39===L||!aD.isHorizontal()&&40===L)){return !1}if(!aD.params.allowSwipeToPrev&&(aD.isHorizontal()&&37===L||!aD.isHorizontal()&&38===L)){return !1}if(!(I.shiftKey||I.altKey||I.ctrlKey||I.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===L||39===L||38===L||40===L){var M=!1;if(aD.container.parents(".swiper-slide").length>0&&0===aD.container.parents(".swiper-slide-active").length){return}var B={left:window.pageXOffset,top:window.pageYOffset},H=window.innerWidth,N=window.innerHeight,E=aD.container.offset();aD.rtl&&(E.left=E.left-aD.container[0].scrollLeft);for(var D=[[E.left,E.top],[E.left+aD.width,E.top],[E.left,E.top+aD.height],[E.left+aD.width,E.top+aD.height]],G=0;G<D.length;G++){var C=D[G];C[0]>=B.left&&C[0]<=B.left+H&&C[1]>=B.top&&C[1]<=B.top+N&&(M=!0)}if(!M){return}}aD.isHorizontal()?((37===L||39===L)&&(I.preventDefault?I.preventDefault():I.returnValue=!1),(39===L&&!aD.rtl||37===L&&aD.rtl)&&aD.slideNext(),(37===L&&!aD.rtl||39===L&&aD.rtl)&&aD.slidePrev()):((38===L||40===L)&&(I.preventDefault?I.preventDefault():I.returnValue=!1),40===L&&aD.slideNext(),38===L&&aD.slidePrev())}}function aB(H){H.originalEvent&&(H=H.originalEvent);var B=aD.mousewheel.event,D=0,G=aD.rtl?-1:1;if("mousewheel"===B){if(aD.params.mousewheelForceToAxis){if(aD.isHorizontal()){if(!(Math.abs(H.wheelDeltaX)>Math.abs(H.wheelDeltaY))){return}D=H.wheelDeltaX*G}else{if(!(Math.abs(H.wheelDeltaY)>Math.abs(H.wheelDeltaX))){return}D=H.wheelDeltaY}}else{D=Math.abs(H.wheelDeltaX)>Math.abs(H.wheelDeltaY)?-H.wheelDeltaX*G:-H.wheelDeltaY}}else{if("DOMMouseScroll"===B){D=-H.detail}else{if("wheel"===B){if(aD.params.mousewheelForceToAxis){if(aD.isHorizontal()){if(!(Math.abs(H.deltaX)>Math.abs(H.deltaY))){return}D=-H.deltaX*G}else{if(!(Math.abs(H.deltaY)>Math.abs(H.deltaX))){return}D=-H.deltaY}}else{D=Math.abs(H.deltaX)>Math.abs(H.deltaY)?-H.deltaX*G:-H.deltaY}}}}if(0!==D){if(aD.params.mousewheelInvert&&(D=-D),aD.params.freeMode){var C=aD.getWrapperTranslate()+D*aD.params.mousewheelSensitivity,E=aD.isBeginning,I=aD.isEnd;if(C>=aD.minTranslate()&&(C=aD.minTranslate()),C<=aD.maxTranslate()&&(C=aD.maxTranslate()),aD.setWrapperTransition(0),aD.setWrapperTranslate(C),aD.updateProgress(),aD.updateActiveIndex(),(!E&&aD.isBeginning||!I&&aD.isEnd)&&aD.updateClasses(),aD.params.freeModeSticky?(clearTimeout(aD.mousewheel.timeout),aD.mousewheel.timeout=setTimeout(function(){aD.slideReset()},300)):aD.params.lazyLoading&&aD.lazy&&aD.lazy.load(),0===C||C===aD.maxTranslate()){return}}else{if((new window.Date).getTime()-aD.mousewheel.lastScrollTime>60){if(0>D){if(aD.isEnd&&!aD.params.loop||aD.animating){if(aD.params.mousewheelReleaseOnEdges){return !0}}else{aD.slideNext()}}else{if(aD.isBeginning&&!aD.params.loop||aD.animating){if(aD.params.mousewheelReleaseOnEdges){return !0}}else{aD.slidePrev()}}}aD.mousewheel.lastScrollTime=(new window.Date).getTime()}return aD.params.autoplay&&aD.stopAutoplay(),H.preventDefault?H.preventDefault():H.returnValue=!1,!1}}function an(G,C){G=u(G);var E,B,D,H=aD.rtl?-1:1;E=G.attr("data-swiper-parallax")||"0",B=G.attr("data-swiper-parallax-x"),D=G.attr("data-swiper-parallax-y"),B||D?(B=B||"0",D=D||"0"):aD.isHorizontal()?(B=E,D="0"):(D=E,B="0"),B=B.indexOf("%")>=0?parseInt(B,10)*C*H+"%":B*C*H+"px",D=D.indexOf("%")>=0?parseInt(D,10)*C+"%":D*C+"px",G.transform("translate3d("+B+", "+D+",0px)")}function aC(i){return 0!==i.indexOf("on")&&(i=i[0]!==i[0].toUpperCase()?"on"+i[0].toUpperCase()+i.substring(1):"on"+i),i}if(!(this instanceof w)){return new w(aA,aw)}var at={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:0.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:0.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:0.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:0.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},ax=aw&&aw.virtualTranslate;aw=aw||{};var az={};for(var ay in aw){if("object"!=typeof aw[ay]||null===aw[ay]||(aw[ay].nodeType||aw[ay]===window||aw[ay]===document||"undefined"!=typeof y&&aw[ay] instanceof y||"undefined"!=typeof jQuery&&aw[ay] instanceof jQuery)){az[ay]=aw[ay]}else{az[ay]={};for(var am in aw[ay]){az[ay][am]=aw[ay][am]}}}for(var al in at){if("undefined"==typeof aw[al]){aw[al]=at[al]}else{if("object"==typeof aw[al]){for(var aj in at[al]){"undefined"==typeof aw[al][aj]&&(aw[al][aj]=at[al][aj])}}}}var aD=this;if(aD.params=aw,aD.originalParams=az,aD.classNames=[],"undefined"!=typeof u&&"undefined"!=typeof y&&(u=y),("undefined"!=typeof u||(u="undefined"==typeof y?window.Dom7||window.Zepto||window.jQuery:y))&&(aD.$=u,aD.currentBreakpoint=void 0,aD.getActiveBreakpoint=function(){if(!aD.params.breakpoints){return !1}var C,i=!1,s=[];for(C in aD.params.breakpoints){aD.params.breakpoints.hasOwnProperty(C)&&s.push(C)}s.sort(function(E,D){return parseInt(E,10)>parseInt(D,10)});for(var B=0;B<s.length;B++){C=s[B],C>=window.innerWidth&&!i&&(i=C)}return i||"max"},aD.setBreakpoint=function(){var C=aD.getActiveBreakpoint();if(C&&aD.currentBreakpoint!==C){var i=C in aD.params.breakpoints?aD.params.breakpoints[C]:aD.originalParams,s=aD.params.loop&&i.slidesPerView!==aD.params.slidesPerView;for(var B in i){aD.params[B]=i[B]}aD.currentBreakpoint=C,s&&aD.destroyLoop&&aD.reLoop(!0)}},aD.params.breakpoints&&aD.setBreakpoint(),aD.container=u(aA),0!==aD.container.length)){if(aD.container.length>1){var ak=[];return aD.container.each(function(){ak.push(new w(this,aw))}),ak}aD.container[0].swiper=aD,aD.container.data("swiper",aD),aD.classNames.push("swiper-container-"+aD.params.direction),aD.params.freeMode&&aD.classNames.push("swiper-container-free-mode"),aD.support.flexbox||(aD.classNames.push("swiper-container-no-flexbox"),aD.params.slidesPerColumn=1),aD.params.autoHeight&&aD.classNames.push("swiper-container-autoheight"),(aD.params.parallax||aD.params.watchSlidesVisibility)&&(aD.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(aD.params.effect)>=0&&(aD.support.transforms3d?(aD.params.watchSlidesProgress=!0,aD.classNames.push("swiper-container-3d")):aD.params.effect="slide"),"slide"!==aD.params.effect&&aD.classNames.push("swiper-container-"+aD.params.effect),"cube"===aD.params.effect&&(aD.params.resistanceRatio=0,aD.params.slidesPerView=1,aD.params.slidesPerColumn=1,aD.params.slidesPerGroup=1,aD.params.centeredSlides=!1,aD.params.spaceBetween=0,aD.params.virtualTranslate=!0,aD.params.setWrapperSize=!1),("fade"===aD.params.effect||"flip"===aD.params.effect)&&(aD.params.slidesPerView=1,aD.params.slidesPerColumn=1,aD.params.slidesPerGroup=1,aD.params.watchSlidesProgress=!0,aD.params.spaceBetween=0,aD.params.setWrapperSize=!1,"undefined"==typeof ax&&(aD.params.virtualTranslate=!0)),aD.params.grabCursor&&aD.support.touch&&(aD.params.grabCursor=!1),aD.wrapper=aD.container.children("."+aD.params.wrapperClass),aD.params.pagination&&(aD.paginationContainer=u(aD.params.pagination),aD.params.uniqueNavElements&&"string"==typeof aD.params.pagination&&aD.paginationContainer.length>1&&1===aD.container.find(aD.params.pagination).length&&(aD.paginationContainer=aD.container.find(aD.params.pagination)),"bullets"===aD.params.paginationType&&aD.params.paginationClickable?aD.paginationContainer.addClass("swiper-pagination-clickable"):aD.params.paginationClickable=!1,aD.paginationContainer.addClass("swiper-pagination-"+aD.params.paginationType)),(aD.params.nextButton||aD.params.prevButton)&&(aD.params.nextButton&&(aD.nextButton=u(aD.params.nextButton),aD.params.uniqueNavElements&&"string"==typeof aD.params.nextButton&&aD.nextButton.length>1&&1===aD.container.find(aD.params.nextButton).length&&(aD.nextButton=aD.container.find(aD.params.nextButton))),aD.params.prevButton&&(aD.prevButton=u(aD.params.prevButton),aD.params.uniqueNavElements&&"string"==typeof aD.params.prevButton&&aD.prevButton.length>1&&1===aD.container.find(aD.params.prevButton).length&&(aD.prevButton=aD.container.find(aD.params.prevButton)))),aD.isHorizontal=function(){return"horizontal"===aD.params.direction},aD.rtl=aD.isHorizontal()&&("rtl"===aD.container[0].dir.toLowerCase()||"rtl"===aD.container.css("direction")),aD.rtl&&aD.classNames.push("swiper-container-rtl"),aD.rtl&&(aD.wrongRTL="-webkit-box"===aD.wrapper.css("display")),aD.params.slidesPerColumn>1&&aD.classNames.push("swiper-container-multirow"),aD.device.android&&aD.classNames.push("swiper-container-android"),aD.container.addClass(aD.classNames.join(" ")),aD.translate=0,aD.progress=0,aD.velocity=0,aD.lockSwipeToNext=function(){aD.params.allowSwipeToNext=!1},aD.lockSwipeToPrev=function(){aD.params.allowSwipeToPrev=!1},aD.lockSwipes=function(){aD.params.allowSwipeToNext=aD.params.allowSwipeToPrev=!1},aD.unlockSwipeToNext=function(){aD.params.allowSwipeToNext=!0},aD.unlockSwipeToPrev=function(){aD.params.allowSwipeToPrev=!0},aD.unlockSwipes=function(){aD.params.allowSwipeToNext=aD.params.allowSwipeToPrev=!0},aD.params.grabCursor&&(aD.container[0].style.cursor="move",aD.container[0].style.cursor="-webkit-grab",aD.container[0].style.cursor="-moz-grab",aD.container[0].style.cursor="grab"),aD.imagesToLoad=[],aD.imagesLoaded=0,aD.loadImage=function(H,B,D,G,C){function E(){C&&C()}var I;H.complete&&G?E():B?(I=new window.Image,I.onload=E,I.onerror=E,D&&(I.srcset=D),B&&(I.src=B)):E()},aD.preloadImages=function(){function s(){"undefined"!=typeof aD&&null!==aD&&(void 0!==aD.imagesLoaded&&aD.imagesLoaded++,aD.imagesLoaded===aD.imagesToLoad.length&&(aD.params.updateOnImagesReady&&aD.update(),aD.emit("onImagesReady",aD)))}aD.imagesToLoad=aD.container.find("img");for(var i=0;i<aD.imagesToLoad.length;i++){aD.loadImage(aD.imagesToLoad[i],aD.imagesToLoad[i].currentSrc||aD.imagesToLoad[i].getAttribute("src"),aD.imagesToLoad[i].srcset||aD.imagesToLoad[i].getAttribute("srcset"),!0,s)}},aD.autoplayTimeoutId=void 0,aD.autoplaying=!1,aD.autoplayPaused=!1,aD.startAutoplay=function(){return"undefined"!=typeof aD.autoplayTimeoutId?!1:aD.params.autoplay?aD.autoplaying?!1:(aD.autoplaying=!0,aD.emit("onAutoplayStart",aD),void ar()):!1},aD.stopAutoplay=function(i){aD.autoplayTimeoutId&&(aD.autoplayTimeoutId&&clearTimeout(aD.autoplayTimeoutId),aD.autoplaying=!1,aD.autoplayTimeoutId=void 0,aD.emit("onAutoplayStop",aD))},aD.pauseAutoplay=function(i){aD.autoplayPaused||(aD.autoplayTimeoutId&&clearTimeout(aD.autoplayTimeoutId),aD.autoplayPaused=!0,0===i?(aD.autoplayPaused=!1,ar()):aD.wrapper.transitionEnd(function(){aD&&(aD.autoplayPaused=!1,aD.autoplaying?ar():aD.stopAutoplay())}))},aD.minTranslate=function(){return -aD.snapGrid[0]},aD.maxTranslate=function(){return -aD.snapGrid[aD.snapGrid.length-1]},aD.updateAutoHeight=function(){var s=aD.slides.eq(aD.activeIndex)[0];if("undefined"!=typeof s){var i=s.offsetHeight;i&&aD.wrapper.css("height",i+"px")}},aD.updateContainerSize=function(){var s,i;s="undefined"!=typeof aD.params.width?aD.params.width:aD.container[0].clientWidth,i="undefined"!=typeof aD.params.height?aD.params.height:aD.container[0].clientHeight,0===s&&aD.isHorizontal()||0===i&&!aD.isHorizontal()||(s=s-parseInt(aD.container.css("padding-left"),10)-parseInt(aD.container.css("padding-right"),10),i=i-parseInt(aD.container.css("padding-top"),10)-parseInt(aD.container.css("padding-bottom"),10),aD.width=s,aD.height=i,aD.size=aD.isHorizontal()?aD.width:aD.height)},aD.updateSlidesSize=function(){aD.slides=aD.wrapper.children("."+aD.params.slideClass),aD.snapGrid=[],aD.slidesGrid=[],aD.slidesSizesGrid=[];var M,P=aD.params.spaceBetween,S=-aD.params.slidesOffsetBefore,s=0,H=0;if("undefined"!=typeof aD.size){"string"==typeof P&&P.indexOf("%")>=0&&(P=parseFloat(P.replace("%",""))/100*aD.size),aD.virtualSize=-P,aD.rtl?aD.slides.css({marginLeft:"",marginTop:""}):aD.slides.css({marginRight:"",marginBottom:""});var D;aD.params.slidesPerColumn>1&&(D=Math.floor(aD.slides.length/aD.params.slidesPerColumn)===aD.slides.length/aD.params.slidesPerColumn?aD.slides.length:Math.ceil(aD.slides.length/aD.params.slidesPerColumn)*aD.params.slidesPerColumn,"auto"!==aD.params.slidesPerView&&"row"===aD.params.slidesPerColumnFill&&(D=Math.max(D,aD.params.slidesPerView*aD.params.slidesPerColumn)));var C,G=aD.params.slidesPerColumn,B=D/G,N=B-(aD.params.slidesPerColumn*B-aD.slides.length);for(M=0;M<aD.slides.length;M++){C=0;var R=aD.slides.eq(M);if(aD.params.slidesPerColumn>1){var O,E,I;"column"===aD.params.slidesPerColumnFill?(E=Math.floor(M/G),I=M-E*G,(E>N||E===N&&I===G-1)&&++I>=G&&(I=0,E++),O=E+I*D/G,R.css({"-webkit-box-ordinal-group":O,"-moz-box-ordinal-group":O,"-ms-flex-order":O,"-webkit-order":O,order:O})):(I=Math.floor(M/B),E=M-I*B),R.css({"margin-top":0!==I&&aD.params.spaceBetween&&aD.params.spaceBetween+"px"}).attr("data-swiper-column",E).attr("data-swiper-row",I)}"none"!==R.css("display")&&("auto"===aD.params.slidesPerView?(C=aD.isHorizontal()?R.outerWidth(!0):R.outerHeight(!0),aD.params.roundLengths&&(C=ao(C))):(C=(aD.size-(aD.params.slidesPerView-1)*P)/aD.params.slidesPerView,aD.params.roundLengths&&(C=ao(C)),aD.isHorizontal()?aD.slides[M].style.width=C+"px":aD.slides[M].style.height=C+"px"),aD.slides[M].swiperSlideSize=C,aD.slidesSizesGrid.push(C),aD.params.centeredSlides?(S=S+C/2+s/2+P,0===M&&(S=S-aD.size/2-P),Math.abs(S)<0.001&&(S=0),H%aD.params.slidesPerGroup===0&&aD.snapGrid.push(S),aD.slidesGrid.push(S)):(H%aD.params.slidesPerGroup===0&&aD.snapGrid.push(S),aD.slidesGrid.push(S),S=S+C+P),aD.virtualSize+=C+P,s=C,H++)}aD.virtualSize=Math.max(aD.virtualSize,aD.size)+aD.params.slidesOffsetAfter;var L;if(aD.rtl&&aD.wrongRTL&&("slide"===aD.params.effect||"coverflow"===aD.params.effect)&&aD.wrapper.css({width:aD.virtualSize+aD.params.spaceBetween+"px"}),(!aD.support.flexbox||aD.params.setWrapperSize)&&(aD.isHorizontal()?aD.wrapper.css({width:aD.virtualSize+aD.params.spaceBetween+"px"}):aD.wrapper.css({height:aD.virtualSize+aD.params.spaceBetween+"px"})),aD.params.slidesPerColumn>1&&(aD.virtualSize=(C+aD.params.spaceBetween)*D,aD.virtualSize=Math.ceil(aD.virtualSize/aD.params.slidesPerColumn)-aD.params.spaceBetween,aD.wrapper.css({width:aD.virtualSize+aD.params.spaceBetween+"px"}),aD.params.centeredSlides)){for(L=[],M=0;M<aD.snapGrid.length;M++){aD.snapGrid[M]<aD.virtualSize+aD.snapGrid[0]&&L.push(aD.snapGrid[M])}aD.snapGrid=L}if(!aD.params.centeredSlides){for(L=[],M=0;M<aD.snapGrid.length;M++){aD.snapGrid[M]<=aD.virtualSize-aD.size&&L.push(aD.snapGrid[M])}aD.snapGrid=L,Math.floor(aD.virtualSize-aD.size)-Math.floor(aD.snapGrid[aD.snapGrid.length-1])>1&&aD.snapGrid.push(aD.virtualSize-aD.size)}0===aD.snapGrid.length&&(aD.snapGrid=[0]),0!==aD.params.spaceBetween&&(aD.isHorizontal()?aD.rtl?aD.slides.css({marginLeft:P+"px"}):aD.slides.css({marginRight:P+"px"}):aD.slides.css({marginBottom:P+"px"})),aD.params.watchSlidesProgress&&aD.updateSlidesOffset()}},aD.updateSlidesOffset=function(){for(var i=0;i<aD.slides.length;i++){aD.slides[i].swiperSlideOffset=aD.isHorizontal()?aD.slides[i].offsetLeft:aD.slides[i].offsetTop}},aD.updateSlidesProgress=function(H){if("undefined"==typeof H&&(H=aD.translate||0),0!==aD.slides.length){"undefined"==typeof aD.slides[0].swiperSlideOffset&&aD.updateSlidesOffset();var B=-H;aD.rtl&&(B=H),aD.slides.removeClass(aD.params.slideVisibleClass);for(var D=0;D<aD.slides.length;D++){var G=aD.slides[D],C=(B-G.swiperSlideOffset)/(G.swiperSlideSize+aD.params.spaceBetween);if(aD.params.watchSlidesVisibility){var E=-(B-G.swiperSlideOffset),L=E+aD.slidesSizesGrid[D],I=E>=0&&E<aD.size||L>0&&L<=aD.size||0>=E&&L>=aD.size;I&&aD.slides.eq(D).addClass(aD.params.slideVisibleClass)}G.progress=aD.rtl?-C:C}}},aD.updateProgress=function(C){"undefined"==typeof C&&(C=aD.translate||0);var i=aD.maxTranslate()-aD.minTranslate(),s=aD.isBeginning,B=aD.isEnd;0===i?(aD.progress=0,aD.isBeginning=aD.isEnd=!0):(aD.progress=(C-aD.minTranslate())/i,aD.isBeginning=aD.progress<=0,aD.isEnd=aD.progress>=1),aD.isBeginning&&!s&&aD.emit("onReachBeginning",aD),aD.isEnd&&!B&&aD.emit("onReachEnd",aD),aD.params.watchSlidesProgress&&aD.updateSlidesProgress(C),aD.emit("onProgress",aD,aD.progress)},aD.updateActiveIndex=function(){var C,i,s,B=aD.rtl?aD.translate:-aD.translate;for(i=0;i<aD.slidesGrid.length;i++){"undefined"!=typeof aD.slidesGrid[i+1]?B>=aD.slidesGrid[i]&&B<aD.slidesGrid[i+1]-(aD.slidesGrid[i+1]-aD.slidesGrid[i])/2?C=i:B>=aD.slidesGrid[i]&&B<aD.slidesGrid[i+1]&&(C=i+1):B>=aD.slidesGrid[i]&&(C=i)}(0>C||"undefined"==typeof C)&&(C=0),s=Math.floor(C/aD.params.slidesPerGroup),s>=aD.snapGrid.length&&(s=aD.snapGrid.length-1),C!==aD.activeIndex&&(aD.snapIndex=s,aD.previousIndex=aD.activeIndex,aD.activeIndex=C,aD.updateClasses())},aD.updateClasses=function(){aD.slides.removeClass(aD.params.slideActiveClass+" "+aD.params.slideNextClass+" "+aD.params.slidePrevClass);var H=aD.slides.eq(aD.activeIndex);H.addClass(aD.params.slideActiveClass);var D=H.next("."+aD.params.slideClass).addClass(aD.params.slideNextClass);aD.params.loop&&0===D.length&&aD.slides.eq(0).addClass(aD.params.slideNextClass);var G=H.prev("."+aD.params.slideClass).addClass(aD.params.slidePrevClass);if(aD.params.loop&&0===G.length&&aD.slides.eq(-1).addClass(aD.params.slidePrevClass),aD.paginationContainer&&aD.paginationContainer.length>0){var C,E=aD.params.loop?Math.ceil((aD.slides.length-2*aD.loopedSlides)/aD.params.slidesPerGroup):aD.snapGrid.length;if(aD.params.loop?(C=Math.ceil((aD.activeIndex-aD.loopedSlides)/aD.params.slidesPerGroup),C>aD.slides.length-1-2*aD.loopedSlides&&(C-=aD.slides.length-2*aD.loopedSlides),C>E-1&&(C-=E),0>C&&"bullets"!==aD.params.paginationType&&(C=E+C)):C="undefined"!=typeof aD.snapIndex?aD.snapIndex:aD.activeIndex||0,"bullets"===aD.params.paginationType&&aD.bullets&&aD.bullets.length>0&&(aD.bullets.removeClass(aD.params.bulletActiveClass),aD.paginationContainer.length>1?aD.bullets.each(function(){u(this).index()===C&&u(this).addClass(aD.params.bulletActiveClass)}):aD.bullets.eq(C).addClass(aD.params.bulletActiveClass)),"fraction"===aD.params.paginationType&&(aD.paginationContainer.find("."+aD.params.paginationCurrentClass).text(C+1),aD.paginationContainer.find("."+aD.params.paginationTotalClass).text(E)),"progress"===aD.params.paginationType){var L=(C+1)/E,I=L,B=1;aD.isHorizontal()||(B=L,I=1),aD.paginationContainer.find("."+aD.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+I+") scaleY("+B+")").transition(aD.params.speed)}"custom"===aD.params.paginationType&&aD.params.paginationCustomRender&&(aD.paginationContainer.html(aD.params.paginationCustomRender(aD,C+1,E)),aD.emit("onPaginationRendered",aD,aD.paginationContainer[0]))}aD.params.loop||(aD.params.prevButton&&aD.prevButton&&aD.prevButton.length>0&&(aD.isBeginning?(aD.prevButton.addClass(aD.params.buttonDisabledClass),aD.params.a11y&&aD.a11y&&aD.a11y.disable(aD.prevButton)):(aD.prevButton.removeClass(aD.params.buttonDisabledClass),aD.params.a11y&&aD.a11y&&aD.a11y.enable(aD.prevButton))),aD.params.nextButton&&aD.nextButton&&aD.nextButton.length>0&&(aD.isEnd?(aD.nextButton.addClass(aD.params.buttonDisabledClass),aD.params.a11y&&aD.a11y&&aD.a11y.disable(aD.nextButton)):(aD.nextButton.removeClass(aD.params.buttonDisabledClass),aD.params.a11y&&aD.a11y&&aD.a11y.enable(aD.nextButton))))},aD.updatePagination=function(){if(aD.params.pagination&&aD.paginationContainer&&aD.paginationContainer.length>0){var B="";if("bullets"===aD.params.paginationType){for(var i=aD.params.loop?Math.ceil((aD.slides.length-2*aD.loopedSlides)/aD.params.slidesPerGroup):aD.snapGrid.length,s=0;i>s;s++){B+=aD.params.paginationBulletRender?aD.params.paginationBulletRender(s,aD.params.bulletClass):"<"+aD.params.paginationElement+' class="'+aD.params.bulletClass+'"></'+aD.params.paginationElement+">"}aD.paginationContainer.html(B),aD.bullets=aD.paginationContainer.find("."+aD.params.bulletClass),aD.params.paginationClickable&&aD.params.a11y&&aD.a11y&&aD.a11y.initPagination()}"fraction"===aD.params.paginationType&&(B=aD.params.paginationFractionRender?aD.params.paginationFractionRender(aD,aD.params.paginationCurrentClass,aD.params.paginationTotalClass):'<span class="'+aD.params.paginationCurrentClass+'"></span> / <span class="'+aD.params.paginationTotalClass+'"></span>',aD.paginationContainer.html(B)),"progress"===aD.params.paginationType&&(B=aD.params.paginationProgressRender?aD.params.paginationProgressRender(aD,aD.params.paginationProgressbarClass):'<span class="'+aD.params.paginationProgressbarClass+'"></span>',aD.paginationContainer.html(B)),"custom"!==aD.params.paginationType&&aD.emit("onPaginationRendered",aD,aD.paginationContainer[0])}},aD.update=function(C){function i(){B=Math.min(Math.max(aD.translate,aD.maxTranslate()),aD.minTranslate()),aD.setWrapperTranslate(B),aD.updateActiveIndex(),aD.updateClasses()}if(aD.updateContainerSize(),aD.updateSlidesSize(),aD.updateProgress(),aD.updatePagination(),aD.updateClasses(),aD.params.scrollbar&&aD.scrollbar&&aD.scrollbar.set(),C){var s,B;aD.controller&&aD.controller.spline&&(aD.controller.spline=void 0),aD.params.freeMode?(i(),aD.params.autoHeight&&aD.updateAutoHeight()):(s=("auto"===aD.params.slidesPerView||aD.params.slidesPerView>1)&&aD.isEnd&&!aD.params.centeredSlides?aD.slideTo(aD.slides.length-1,0,!1,!0):aD.slideTo(aD.activeIndex,0,!1,!0),s||i())}else{aD.params.autoHeight&&aD.updateAutoHeight()}},aD.onResize=function(E){aD.params.breakpoints&&aD.setBreakpoint();var s=aD.params.allowSwipeToPrev,C=aD.params.allowSwipeToNext;aD.params.allowSwipeToPrev=aD.params.allowSwipeToNext=!0,aD.updateContainerSize(),aD.updateSlidesSize(),("auto"===aD.params.slidesPerView||aD.params.freeMode||E)&&aD.updatePagination(),aD.params.scrollbar&&aD.scrollbar&&aD.scrollbar.set(),aD.controller&&aD.controller.spline&&(aD.controller.spline=void 0);var D=!1;if(aD.params.freeMode){var B=Math.min(Math.max(aD.translate,aD.maxTranslate()),aD.minTranslate());aD.setWrapperTranslate(B),aD.updateActiveIndex(),aD.updateClasses(),aD.params.autoHeight&&aD.updateAutoHeight()}else{aD.updateClasses(),D=("auto"===aD.params.slidesPerView||aD.params.slidesPerView>1)&&aD.isEnd&&!aD.params.centeredSlides?aD.slideTo(aD.slides.length-1,0,!1,!0):aD.slideTo(aD.activeIndex,0,!1,!0)}aD.params.lazyLoading&&!D&&aD.lazy&&aD.lazy.load(),aD.params.allowSwipeToPrev=s,aD.params.allowSwipeToNext=C};var J=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?J=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(J=["MSPointerDown","MSPointerMove","MSPointerUp"]),aD.touchEvents={start:aD.support.touch||!aD.params.simulateTouch?"touchstart":J[0],move:aD.support.touch||!aD.params.simulateTouch?"touchmove":J[1],end:aD.support.touch||!aD.params.simulateTouch?"touchend":J[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===aD.params.touchEventsTarget?aD.container:aD.wrapper).addClass("swiper-wp8-"+aD.params.direction),aD.initEvents=function(E){var i=E?"off":"on",B=E?"removeEventListener":"addEventListener",D="container"===aD.params.touchEventsTarget?aD.container[0]:aD.wrapper[0],C=aD.support.touch?D:document,G=aD.params.nested?!0:!1;aD.browser.ie?(D[B](aD.touchEvents.start,aD.onTouchStart,!1),C[B](aD.touchEvents.move,aD.onTouchMove,G),C[B](aD.touchEvents.end,aD.onTouchEnd,!1)):(aD.support.touch&&(D[B](aD.touchEvents.start,aD.onTouchStart,!1),D[B](aD.touchEvents.move,aD.onTouchMove,G),D[B](aD.touchEvents.end,aD.onTouchEnd,!1)),!aw.simulateTouch||aD.device.ios||aD.device.android||(D[B]("mousedown",aD.onTouchStart,!1),document[B]("mousemove",aD.onTouchMove,G),document[B]("mouseup",aD.onTouchEnd,!1))),window[B]("resize",aD.onResize),aD.params.nextButton&&aD.nextButton&&aD.nextButton.length>0&&(aD.nextButton[i]("click",aD.onClickNext),aD.params.a11y&&aD.a11y&&aD.nextButton[i]("keydown",aD.a11y.onEnterKey)),aD.params.prevButton&&aD.prevButton&&aD.prevButton.length>0&&(aD.prevButton[i]("click",aD.onClickPrev),aD.params.a11y&&aD.a11y&&aD.prevButton[i]("keydown",aD.a11y.onEnterKey)),aD.params.pagination&&aD.params.paginationClickable&&(aD.paginationContainer[i]("click","."+aD.params.bulletClass,aD.onClickIndex),aD.params.a11y&&aD.a11y&&aD.paginationContainer[i]("keydown","."+aD.params.bulletClass,aD.a11y.onEnterKey)),(aD.params.preventClicks||aD.params.preventClicksPropagation)&&D[B]("click",aD.preventClicks,!0)},aD.attachEvents=function(){aD.initEvents()},aD.detachEvents=function(){aD.initEvents(!0)},aD.allowClick=!0,aD.preventClicks=function(i){aD.allowClick||(aD.params.preventClicks&&i.preventDefault(),aD.params.preventClicksPropagation&&aD.animating&&(i.stopPropagation(),i.stopImmediatePropagation()))},aD.onClickNext=function(i){i.preventDefault(),(!aD.isEnd||aD.params.loop)&&aD.slideNext()},aD.onClickPrev=function(i){i.preventDefault(),(!aD.isBeginning||aD.params.loop)&&aD.slidePrev()},aD.onClickIndex=function(s){s.preventDefault();var i=u(this).index()*aD.params.slidesPerGroup;aD.params.loop&&(i+=aD.loopedSlides),aD.slideTo(i)},aD.updateClickedSlide=function(G){var C=aq(G,"."+aD.params.slideClass),E=!1;if(C){for(var B=0;B<aD.slides.length;B++){aD.slides[B]===C&&(E=!0)}}if(!C||!E){return aD.clickedSlide=void 0,void (aD.clickedIndex=void 0)}if(aD.clickedSlide=C,aD.clickedIndex=u(C).index(),aD.params.slideToClickedSlide&&void 0!==aD.clickedIndex&&aD.clickedIndex!==aD.activeIndex){var D,H=aD.clickedIndex;if(aD.params.loop){if(aD.animating){return}D=u(aD.clickedSlide).attr("data-swiper-slide-index"),aD.params.centeredSlides?H<aD.loopedSlides-aD.params.slidesPerView/2||H>aD.slides.length-aD.loopedSlides+aD.params.slidesPerView/2?(aD.fixLoop(),H=aD.wrapper.children("."+aD.params.slideClass+'[data-swiper-slide-index="'+D+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){aD.slideTo(H)},0)):aD.slideTo(H):H>aD.slides.length-aD.params.slidesPerView?(aD.fixLoop(),H=aD.wrapper.children("."+aD.params.slideClass+'[data-swiper-slide-index="'+D+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){aD.slideTo(H)},0)):aD.slideTo(H)}else{aD.slideTo(H)}}};var K,af,ai,Y,ad,U,av,aa,Z,ag,ae="input, select, textarea, button",ab=Date.now(),ah=[];aD.animating=!1,aD.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var ac,V;if(aD.onTouchStart=function(D){if(D.originalEvent&&(D=D.originalEvent),ac="touchstart"===D.type,ac||!("which" in D)||3!==D.which){if(aD.params.noSwiping&&aq(D,"."+aD.params.noSwipingClass)){return void (aD.allowClick=!0)}if(!aD.params.swipeHandler||aq(D,aD.params.swipeHandler)){var B=aD.touches.currentX="touchstart"===D.type?D.targetTouches[0].pageX:D.pageX,C=aD.touches.currentY="touchstart"===D.type?D.targetTouches[0].pageY:D.pageY;if(!(aD.device.ios&&aD.params.iOSEdgeSwipeDetection&&B<=aD.params.iOSEdgeSwipeThreshold)){if(K=!0,af=!1,ai=!0,ad=void 0,V=void 0,aD.touches.startX=B,aD.touches.startY=C,Y=Date.now(),aD.allowClick=!0,aD.updateContainerSize(),aD.swipeDirection=void 0,aD.params.threshold>0&&(aa=!1),"touchstart"!==D.type){var s=!0;u(D.target).is(ae)&&(s=!1),document.activeElement&&u(document.activeElement).is(ae)&&document.activeElement.blur(),s&&D.preventDefault()}aD.emit("onTouchStart",aD,D)}}}},aD.onTouchMove=function(D){if(D.originalEvent&&(D=D.originalEvent),!ac||"mousemove"!==D.type){if(D.preventedByNestedSwiper){return aD.touches.startX="touchmove"===D.type?D.targetTouches[0].pageX:D.pageX,void (aD.touches.startY="touchmove"===D.type?D.targetTouches[0].pageY:D.pageY)}if(aD.params.onlyExternal){return aD.allowClick=!1,void (K&&(aD.touches.startX=aD.touches.currentX="touchmove"===D.type?D.targetTouches[0].pageX:D.pageX,aD.touches.startY=aD.touches.currentY="touchmove"===D.type?D.targetTouches[0].pageY:D.pageY,Y=Date.now()))}if(ac&&document.activeElement&&D.target===document.activeElement&&u(D.target).is(ae)){return af=!0,void (aD.allowClick=!1)}if(ai&&aD.emit("onTouchMove",aD,D),!(D.targetTouches&&D.targetTouches.length>1)){if(aD.touches.currentX="touchmove"===D.type?D.targetTouches[0].pageX:D.pageX,aD.touches.currentY="touchmove"===D.type?D.targetTouches[0].pageY:D.pageY,"undefined"==typeof ad){var i=180*Math.atan2(Math.abs(aD.touches.currentY-aD.touches.startY),Math.abs(aD.touches.currentX-aD.touches.startX))/Math.PI;ad=aD.isHorizontal()?i>aD.params.touchAngle:90-i>aD.params.touchAngle}if(ad&&aD.emit("onTouchMoveOpposite",aD,D),"undefined"==typeof V&&aD.browser.ieTouch&&(aD.touches.currentX!==aD.touches.startX||aD.touches.currentY!==aD.touches.startY)&&(V=!0),K){if(ad){return void (K=!1)}if(V||!aD.browser.ieTouch){aD.allowClick=!1,aD.emit("onSliderMove",aD,D),D.preventDefault(),aD.params.touchMoveStopPropagation&&!aD.params.nested&&D.stopPropagation(),af||(aw.loop&&aD.fixLoop(),av=aD.getWrapperTranslate(),aD.setWrapperTransition(0),aD.animating&&aD.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),aD.params.autoplay&&aD.autoplaying&&(aD.params.autoplayDisableOnInteraction?aD.stopAutoplay():aD.pauseAutoplay()),ag=!1,aD.params.grabCursor&&(aD.container[0].style.cursor="move",aD.container[0].style.cursor="-webkit-grabbing",aD.container[0].style.cursor="-moz-grabbin",aD.container[0].style.cursor="grabbing")),af=!0;var C=aD.touches.diff=aD.isHorizontal()?aD.touches.currentX-aD.touches.startX:aD.touches.currentY-aD.touches.startY;C*=aD.params.touchRatio,aD.rtl&&(C=-C),aD.swipeDirection=C>0?"prev":"next",U=C+av;var B=!0;if(C>0&&U>aD.minTranslate()?(B=!1,aD.params.resistance&&(U=aD.minTranslate()-1+Math.pow(-aD.minTranslate()+av+C,aD.params.resistanceRatio))):0>C&&U<aD.maxTranslate()&&(B=!1,aD.params.resistance&&(U=aD.maxTranslate()+1-Math.pow(aD.maxTranslate()-av-C,aD.params.resistanceRatio))),B&&(D.preventedByNestedSwiper=!0),!aD.params.allowSwipeToNext&&"next"===aD.swipeDirection&&av>U&&(U=av),!aD.params.allowSwipeToPrev&&"prev"===aD.swipeDirection&&U>av&&(U=av),aD.params.followFinger){if(aD.params.threshold>0){if(!(Math.abs(C)>aD.params.threshold||aa)){return void (U=av)}if(!aa){return aa=!0,aD.touches.startX=aD.touches.currentX,aD.touches.startY=aD.touches.currentY,U=av,void (aD.touches.diff=aD.isHorizontal()?aD.touches.currentX-aD.touches.startX:aD.touches.currentY-aD.touches.startY)}}(aD.params.freeMode||aD.params.watchSlidesProgress)&&aD.updateActiveIndex(),aD.params.freeMode&&(0===ah.length&&ah.push({position:aD.touches[aD.isHorizontal()?"startX":"startY"],time:Y}),ah.push({position:aD.touches[aD.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),aD.updateProgress(U),aD.setWrapperTranslate(U)}}}}}},aD.onTouchEnd=function(aF){if(aF.originalEvent&&(aF=aF.originalEvent),ai&&aD.emit("onTouchEnd",aD,aF),ai=!1,K){aD.params.grabCursor&&af&&K&&(aD.container[0].style.cursor="move",aD.container[0].style.cursor="-webkit-grab",aD.container[0].style.cursor="-moz-grab",aD.container[0].style.cursor="grab");var H=Date.now(),L=H-Y;if(aD.allowClick&&(aD.updateClickedSlide(aF),aD.emit("onTap",aD,aF),300>L&&H-ab>300&&(Z&&clearTimeout(Z),Z=setTimeout(function(){aD&&(aD.params.paginationHide&&aD.paginationContainer.length>0&&!u(aF.target).hasClass(aD.params.bulletClass)&&aD.paginationContainer.toggleClass(aD.params.paginationHiddenClass),aD.emit("onClick",aD,aF))},300)),300>L&&300>H-ab&&(Z&&clearTimeout(Z),aD.emit("onDoubleTap",aD,aF))),ab=Date.now(),setTimeout(function(){aD&&(aD.allowClick=!0)},0),!K||!af||!aD.swipeDirection||0===aD.touches.diff||U===av){return void (K=af=!1)}K=af=!1;var S;if(S=aD.params.followFinger?aD.rtl?aD.translate:-aD.translate:-U,aD.params.freeMode){if(S<-aD.minTranslate()){return void aD.slideTo(aD.activeIndex)}if(S>-aD.maxTranslate()){return void (aD.slides.length<aD.snapGrid.length?aD.slideTo(aD.snapGrid.length-1):aD.slideTo(aD.slides.length-1))}if(aD.params.freeModeMomentum){if(ah.length>1){var I=ah.pop(),O=ah.pop(),N=I.position-O.position,R=I.time-O.time;aD.velocity=N/R,aD.velocity=aD.velocity/2,Math.abs(aD.velocity)<aD.params.freeModeMinimumVelocity&&(aD.velocity=0),(R>150||(new window.Date).getTime()-I.time>300)&&(aD.velocity=0)}else{aD.velocity=0}ah.length=0;var M=1000*aD.params.freeModeMomentumRatio,aG=aD.velocity*M,G=aD.translate+aG;aD.rtl&&(G=-G);var aH,P=!1,T=20*Math.abs(aD.velocity)*aD.params.freeModeMomentumBounceRatio;if(G<aD.maxTranslate()){aD.params.freeModeMomentumBounce?(G+aD.maxTranslate()<-T&&(G=aD.maxTranslate()-T),aH=aD.maxTranslate(),P=!0,ag=!0):G=aD.maxTranslate()}else{if(G>aD.minTranslate()){aD.params.freeModeMomentumBounce?(G-aD.minTranslate()>T&&(G=aD.minTranslate()+T),aH=aD.minTranslate(),P=!0,ag=!0):G=aD.minTranslate()}else{if(aD.params.freeModeSticky){var aE,W=0;for(W=0;W<aD.snapGrid.length;W+=1){if(aD.snapGrid[W]>-G){aE=W;break}}G=Math.abs(aD.snapGrid[aE]-G)<Math.abs(aD.snapGrid[aE-1]-G)||"next"===aD.swipeDirection?aD.snapGrid[aE]:aD.snapGrid[aE-1],aD.rtl||(G=-G)}}}if(0!==aD.velocity){M=aD.rtl?Math.abs((-G-aD.translate)/aD.velocity):Math.abs((G-aD.translate)/aD.velocity)}else{if(aD.params.freeModeSticky){return void aD.slideReset()}}aD.params.freeModeMomentumBounce&&P?(aD.updateProgress(aH),aD.setWrapperTransition(M),aD.setWrapperTranslate(G),aD.onTransitionStart(),aD.animating=!0,aD.wrapper.transitionEnd(function(){aD&&ag&&(aD.emit("onMomentumBounce",aD),aD.setWrapperTransition(aD.params.speed),aD.setWrapperTranslate(aH),aD.wrapper.transitionEnd(function(){aD&&aD.onTransitionEnd()}))})):aD.velocity?(aD.updateProgress(G),aD.setWrapperTransition(M),aD.setWrapperTranslate(G),aD.onTransitionStart(),aD.animating||(aD.animating=!0,aD.wrapper.transitionEnd(function(){aD&&aD.onTransitionEnd()}))):aD.updateProgress(G),aD.updateActiveIndex()}return void ((!aD.params.freeModeMomentum||L>=aD.params.longSwipesMs)&&(aD.updateProgress(),aD.updateActiveIndex()))}var E,D=0,B=aD.slidesSizesGrid[0];for(E=0;E<aD.slidesGrid.length;E+=aD.params.slidesPerGroup){"undefined"!=typeof aD.slidesGrid[E+aD.params.slidesPerGroup]?S>=aD.slidesGrid[E]&&S<aD.slidesGrid[E+aD.params.slidesPerGroup]&&(D=E,B=aD.slidesGrid[E+aD.params.slidesPerGroup]-aD.slidesGrid[E]):S>=aD.slidesGrid[E]&&(D=E,B=aD.slidesGrid[aD.slidesGrid.length-1]-aD.slidesGrid[aD.slidesGrid.length-2])}var C=(S-aD.slidesGrid[D])/B;if(L>aD.params.longSwipesMs){if(!aD.params.longSwipes){return void aD.slideTo(aD.activeIndex)}"next"===aD.swipeDirection&&(C>=aD.params.longSwipesRatio?aD.slideTo(D+aD.params.slidesPerGroup):aD.slideTo(D)),"prev"===aD.swipeDirection&&(C>1-aD.params.longSwipesRatio?aD.slideTo(D+aD.params.slidesPerGroup):aD.slideTo(D))}else{if(!aD.params.shortSwipes){return void aD.slideTo(aD.activeIndex)}"next"===aD.swipeDirection&&aD.slideTo(D+aD.params.slidesPerGroup),"prev"===aD.swipeDirection&&aD.slideTo(D)}}},aD._slideTo=function(s,i){return aD.slideTo(s,i,!0,!0)},aD.slideTo=function(H,B,D,G){"undefined"==typeof D&&(D=!0),"undefined"==typeof H&&(H=0),0>H&&(H=0),aD.snapIndex=Math.floor(H/aD.params.slidesPerGroup),aD.snapIndex>=aD.snapGrid.length&&(aD.snapIndex=aD.snapGrid.length-1);var C=-aD.snapGrid[aD.snapIndex];aD.params.autoplay&&aD.autoplaying&&(G||!aD.params.autoplayDisableOnInteraction?aD.pauseAutoplay(B):aD.stopAutoplay()),aD.updateProgress(C);for(var E=0;E<aD.slidesGrid.length;E++){-Math.floor(100*C)>=Math.floor(100*aD.slidesGrid[E])&&(H=E)}return !aD.params.allowSwipeToNext&&C<aD.translate&&C<aD.minTranslate()?!1:!aD.params.allowSwipeToPrev&&C>aD.translate&&C>aD.maxTranslate()&&(aD.activeIndex||0)!==H?!1:("undefined"==typeof B&&(B=aD.params.speed),aD.previousIndex=aD.activeIndex||0,aD.activeIndex=H,aD.rtl&&-C===aD.translate||!aD.rtl&&C===aD.translate?(aD.params.autoHeight&&aD.updateAutoHeight(),aD.updateClasses(),"slide"!==aD.params.effect&&aD.setWrapperTranslate(C),!1):(aD.updateClasses(),aD.onTransitionStart(D),0===B?(aD.setWrapperTranslate(C),aD.setWrapperTransition(0),aD.onTransitionEnd(D)):(aD.setWrapperTranslate(C),aD.setWrapperTransition(B),aD.animating||(aD.animating=!0,aD.wrapper.transitionEnd(function(){aD&&aD.onTransitionEnd(D)}))),!0))},aD.onTransitionStart=function(i){"undefined"==typeof i&&(i=!0),aD.params.autoHeight&&aD.updateAutoHeight(),aD.lazy&&aD.lazy.onTransitionStart(),i&&(aD.emit("onTransitionStart",aD),aD.activeIndex!==aD.previousIndex&&(aD.emit("onSlideChangeStart",aD),aD.activeIndex>aD.previousIndex?aD.emit("onSlideNextStart",aD):aD.emit("onSlidePrevStart",aD)))},aD.onTransitionEnd=function(i){aD.animating=!1,aD.setWrapperTransition(0),"undefined"==typeof i&&(i=!0),aD.lazy&&aD.lazy.onTransitionEnd(),i&&(aD.emit("onTransitionEnd",aD),aD.activeIndex!==aD.previousIndex&&(aD.emit("onSlideChangeEnd",aD),aD.activeIndex>aD.previousIndex?aD.emit("onSlideNextEnd",aD):aD.emit("onSlidePrevEnd",aD))),aD.params.hashnav&&aD.hashnav&&aD.hashnav.setHash()},aD.slideNext=function(B,i,s){if(aD.params.loop){if(aD.animating){return !1}aD.fixLoop();aD.container[0].clientLeft;return aD.slideTo(aD.activeIndex+aD.params.slidesPerGroup,i,B,s)}return aD.slideTo(aD.activeIndex+aD.params.slidesPerGroup,i,B,s)},aD._slideNext=function(i){return aD.slideNext(!0,i,!0)},aD.slidePrev=function(B,i,s){if(aD.params.loop){if(aD.animating){return !1}aD.fixLoop();aD.container[0].clientLeft;return aD.slideTo(aD.activeIndex-1,i,B,s)}return aD.slideTo(aD.activeIndex-1,i,B,s)},aD._slidePrev=function(i){return aD.slidePrev(!0,i,!0)},aD.slideReset=function(B,i,s){return aD.slideTo(aD.activeIndex,i,B)},aD.setWrapperTransition=function(s,i){aD.wrapper.transition(s),"slide"!==aD.params.effect&&aD.effects[aD.params.effect]&&aD.effects[aD.params.effect].setTransition(s),aD.params.parallax&&aD.parallax&&aD.parallax.setTransition(s),aD.params.scrollbar&&aD.scrollbar&&aD.scrollbar.setTransition(s),aD.params.control&&aD.controller&&aD.controller.setTransition(s,i),aD.emit("onSetTransition",aD,s)},aD.setWrapperTranslate=function(G,B,D){var E=0,C=0,I=0;aD.isHorizontal()?E=aD.rtl?-G:G:C=G,aD.params.roundLengths&&(E=ao(E),C=ao(C)),aD.params.virtualTranslate||(aD.support.transforms3d?aD.wrapper.transform("translate3d("+E+"px, "+C+"px, "+I+"px)"):aD.wrapper.transform("translate("+E+"px, "+C+"px)")),aD.translate=aD.isHorizontal()?E:C;var H,s=aD.maxTranslate()-aD.minTranslate();H=0===s?0:(G-aD.minTranslate())/s,H!==aD.progress&&aD.updateProgress(G),B&&aD.updateActiveIndex(),"slide"!==aD.params.effect&&aD.effects[aD.params.effect]&&aD.effects[aD.params.effect].setTranslate(aD.translate),aD.params.parallax&&aD.parallax&&aD.parallax.setTranslate(aD.translate),aD.params.scrollbar&&aD.scrollbar&&aD.scrollbar.setTranslate(aD.translate),aD.params.control&&aD.controller&&aD.controller.setTranslate(aD.translate,D),aD.emit("onSetTranslate",aD,aD.translate)},aD.getTranslate=function(H,B){var D,G,C,E;return"undefined"==typeof B&&(B="x"),aD.params.virtualTranslate?aD.rtl?-aD.translate:aD.translate:(C=window.getComputedStyle(H,null),window.WebKitCSSMatrix?(G=C.transform||C.webkitTransform,G.split(",").length>6&&(G=G.split(", ").map(function(i){return i.replace(",",".")}).join(", ")),E=new window.WebKitCSSMatrix("none"===G?"":G)):(E=C.MozTransform||C.OTransform||C.MsTransform||C.msTransform||C.transform||C.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),D=E.toString().split(",")),"x"===B&&(G=window.WebKitCSSMatrix?E.m41:16===D.length?parseFloat(D[12]):parseFloat(D[4])),"y"===B&&(G=window.WebKitCSSMatrix?E.m42:16===D.length?parseFloat(D[13]):parseFloat(D[5])),aD.rtl&&G&&(G=-G),G||0)},aD.getWrapperTranslate=function(i){return"undefined"==typeof i&&(i=aD.isHorizontal()?"x":"y"),aD.getTranslate(aD.wrapper[0],i)},aD.observers=[],aD.initObservers=function(){if(aD.params.observeParents){for(var s=aD.container.parents(),i=0;i<s.length;i++){au(s[i])}}au(aD.container[0],{childList:!1}),au(aD.wrapper[0],{attributes:!1})},aD.disconnectObservers=function(){for(var i=0;i<aD.observers.length;i++){aD.observers[i].disconnect()}aD.observers=[]},aD.createLoop=function(){aD.wrapper.children("."+aD.params.slideClass+"."+aD.params.slideDuplicateClass).remove();var D=aD.wrapper.children("."+aD.params.slideClass);"auto"!==aD.params.slidesPerView||aD.params.loopedSlides||(aD.params.loopedSlides=D.length),aD.loopedSlides=parseInt(aD.params.loopedSlides||aD.params.slidesPerView,10),aD.loopedSlides=aD.loopedSlides+aD.params.loopAdditionalSlides,aD.loopedSlides>D.length&&(aD.loopedSlides=D.length);var B,C=[],s=[];for(D.each(function(i,E){var G=u(this);i<aD.loopedSlides&&s.push(E),i<D.length&&i>=D.length-aD.loopedSlides&&C.push(E),G.attr("data-swiper-slide-index",i)}),B=0;B<s.length;B++){aD.wrapper.append(u(s[B].cloneNode(!0)).addClass(aD.params.slideDuplicateClass))}for(B=C.length-1;B>=0;B--){aD.wrapper.prepend(u(C[B].cloneNode(!0)).addClass(aD.params.slideDuplicateClass))}},aD.destroyLoop=function(){aD.wrapper.children("."+aD.params.slideClass+"."+aD.params.slideDuplicateClass).remove(),aD.slides.removeAttr("data-swiper-slide-index")},aD.reLoop=function(s){var i=aD.activeIndex-aD.loopedSlides;aD.destroyLoop(),aD.createLoop(),aD.updateSlidesSize(),s&&aD.slideTo(i+aD.loopedSlides,0,!1)},aD.fixLoop=function(){var i;aD.activeIndex<aD.loopedSlides?(i=aD.slides.length-3*aD.loopedSlides+aD.activeIndex,i+=aD.loopedSlides,aD.slideTo(i,0,!1,!0)):("auto"===aD.params.slidesPerView&&aD.activeIndex>=2*aD.loopedSlides||aD.activeIndex>aD.slides.length-2*aD.params.slidesPerView)&&(i=-aD.slides.length+aD.activeIndex+aD.loopedSlides,i+=aD.loopedSlides,aD.slideTo(i,0,!1,!0))},aD.appendSlide=function(s){if(aD.params.loop&&aD.destroyLoop(),"object"==typeof s&&s.length){for(var i=0;i<s.length;i++){s[i]&&aD.wrapper.append(s[i])}}else{aD.wrapper.append(s)}aD.params.loop&&aD.createLoop(),aD.params.observer&&aD.support.observer||aD.update(!0)},aD.prependSlide=function(B){aD.params.loop&&aD.destroyLoop();var i=aD.activeIndex+1;if("object"==typeof B&&B.length){for(var s=0;s<B.length;s++){B[s]&&aD.wrapper.prepend(B[s])}i=aD.activeIndex+B.length}else{aD.wrapper.prepend(B)}aD.params.loop&&aD.createLoop(),aD.params.observer&&aD.support.observer||aD.update(!0),aD.slideTo(i,0,!1)},aD.removeSlide=function(C){aD.params.loop&&(aD.destroyLoop(),aD.slides=aD.wrapper.children("."+aD.params.slideClass));var i,s=aD.activeIndex;if("object"==typeof C&&C.length){for(var B=0;B<C.length;B++){i=C[B],aD.slides[i]&&aD.slides.eq(i).remove(),s>i&&s--}s=Math.max(s,0)}else{i=C,aD.slides[i]&&aD.slides.eq(i).remove(),s>i&&s--,s=Math.max(s,0)}aD.params.loop&&aD.createLoop(),aD.params.observer&&aD.support.observer||aD.update(!0),aD.params.loop?aD.slideTo(s+aD.loopedSlides,0,!1):aD.slideTo(s,0,!1)},aD.removeAllSlides=function(){for(var s=[],i=0;i<aD.slides.length;i++){s.push(i)}aD.removeSlide(s)},aD.effects={fade:{setTranslate:function(){for(var H=0;H<aD.slides.length;H++){var B=aD.slides.eq(H),D=B[0].swiperSlideOffset,G=-D;aD.params.virtualTranslate||(G-=aD.translate);var C=0;aD.isHorizontal()||(C=G,G=0);var E=aD.params.fade.crossFade?Math.max(1-Math.abs(B[0].progress),0):1+Math.min(Math.max(B[0].progress,-1),0);B.css({opacity:E}).transform("translate3d("+G+"px, "+C+"px, 0px)")}},setTransition:function(s){if(aD.slides.transition(s),aD.params.virtualTranslate&&0!==s){var i=!1;aD.slides.transitionEnd(function(){if(!i&&aD){i=!0,aD.animating=!1;for(var C=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],B=0;B<C.length;B++){aD.wrapper.trigger(C[B])}}})}}},flip:{setTranslate:function(){for(var I=0;I<aD.slides.length;I++){var N=aD.slides.eq(I),B=N[0].progress;aD.params.flip.limitRotation&&(B=Math.max(Math.min(N[0].progress,1),-1));var H=N[0].swiperSlideOffset,O=-180*B,E=O,D=0,G=-H,C=0;if(aD.isHorizontal()?aD.rtl&&(E=-E):(C=G,G=0,D=-E,E=0),N[0].style.zIndex=-Math.abs(Math.round(B))+aD.slides.length,aD.params.flip.slideShadows){var L=aD.isHorizontal()?N.find(".swiper-slide-shadow-left"):N.find(".swiper-slide-shadow-top"),M=aD.isHorizontal()?N.find(".swiper-slide-shadow-right"):N.find(".swiper-slide-shadow-bottom");0===L.length&&(L=u('<div class="swiper-slide-shadow-'+(aD.isHorizontal()?"left":"top")+'"></div>'),N.append(L)),0===M.length&&(M=u('<div class="swiper-slide-shadow-'+(aD.isHorizontal()?"right":"bottom")+'"></div>'),N.append(M)),L.length&&(L[0].style.opacity=Math.max(-B,0)),M.length&&(M[0].style.opacity=Math.max(B,0))}N.transform("translate3d("+G+"px, "+C+"px, 0px) rotateX("+D+"deg) rotateY("+E+"deg)")}},setTransition:function(s){if(aD.slides.transition(s).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(s),aD.params.virtualTranslate&&0!==s){var i=!1;aD.slides.eq(aD.activeIndex).transitionEnd(function(){if(!i&&aD&&u(this).hasClass(aD.params.slideActiveClass)){i=!0,aD.animating=!1;for(var C=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],B=0;B<C.length;B++){aD.wrapper.trigger(C[B])}}})}}},cube:{setTranslate:function(){var aE,G=0;aD.params.cube.shadow&&(aD.isHorizontal()?(aE=aD.wrapper.find(".swiper-cube-shadow"),0===aE.length&&(aE=u('<div class="swiper-cube-shadow"></div>'),aD.wrapper.append(aE)),aE.css({height:aD.width+"px"})):(aE=aD.container.find(".swiper-cube-shadow"),0===aE.length&&(aE=u('<div class="swiper-cube-shadow"></div>'),aD.container.append(aE))));for(var I=0;I<aD.slides.length;I++){var R=aD.slides.eq(I),H=90*I,N=Math.floor(H/360);aD.rtl&&(H=-H,N=Math.floor(-H/360));var M=Math.max(Math.min(R[0].progress,1),-1),P=0,L=0,aF=0;I%4===0?(P=4*-N*aD.size,aF=0):(I-1)%4===0?(P=0,aF=4*-N*aD.size):(I-2)%4===0?(P=aD.size+4*N*aD.size,aF=aD.size):(I-3)%4===0&&(P=-aD.size,aF=3*aD.size+4*aD.size*N),aD.rtl&&(P=-P),aD.isHorizontal()||(L=P,P=0);var E="rotateX("+(aD.isHorizontal()?0:-H)+"deg) rotateY("+(aD.isHorizontal()?H:0)+"deg) translate3d("+P+"px, "+L+"px, "+aF+"px)";if(1>=M&&M>-1&&(G=90*I+90*M,aD.rtl&&(G=90*-I-90*M)),R.transform(E),aD.params.cube.slideShadows){var aG=aD.isHorizontal()?R.find(".swiper-slide-shadow-left"):R.find(".swiper-slide-shadow-top"),O=aD.isHorizontal()?R.find(".swiper-slide-shadow-right"):R.find(".swiper-slide-shadow-bottom");0===aG.length&&(aG=u('<div class="swiper-slide-shadow-'+(aD.isHorizontal()?"left":"top")+'"></div>'),R.append(aG)),0===O.length&&(O=u('<div class="swiper-slide-shadow-'+(aD.isHorizontal()?"right":"bottom")+'"></div>'),R.append(O)),aG.length&&(aG[0].style.opacity=Math.max(-M,0)),O.length&&(O[0].style.opacity=Math.max(M,0))}}if(aD.wrapper.css({"-webkit-transform-origin":"50% 50% -"+aD.size/2+"px","-moz-transform-origin":"50% 50% -"+aD.size/2+"px","-ms-transform-origin":"50% 50% -"+aD.size/2+"px","transform-origin":"50% 50% -"+aD.size/2+"px"}),aD.params.cube.shadow){if(aD.isHorizontal()){aE.transform("translate3d(0px, "+(aD.width/2+aD.params.cube.shadowOffset)+"px, "+-aD.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+aD.params.cube.shadowScale+")")}else{var S=Math.abs(G)-90*Math.floor(Math.abs(G)/90),W=1.5-(Math.sin(2*S*Math.PI/360)/2+Math.cos(2*S*Math.PI/360)/2),T=aD.params.cube.shadowScale,D=aD.params.cube.shadowScale/W,C=aD.params.cube.shadowOffset;aE.transform("scale3d("+T+", 1, "+D+") translate3d(0px, "+(aD.height/2+C)+"px, "+-aD.height/2/D+"px) rotateX(-90deg)")}}var B=aD.isSafari||aD.isUiWebView?-aD.size/2:0;aD.wrapper.transform("translate3d(0px,0,"+B+"px) rotateX("+(aD.isHorizontal()?0:G)+"deg) rotateY("+(aD.isHorizontal()?-G:0)+"deg)")},setTransition:function(i){aD.slides.transition(i).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(i),aD.params.cube.shadow&&!aD.isHorizontal()&&aD.container.find(".swiper-cube-shadow").transition(i)}},coverflow:{setTranslate:function(){for(var aE=aD.translate,G=aD.isHorizontal()?-aE+aD.width/2:-aE+aD.height/2,I=aD.isHorizontal()?aD.params.coverflow.rotate:-aD.params.coverflow.rotate,R=aD.params.coverflow.depth,H=0,N=aD.slides.length;N>H;H++){var M=aD.slides.eq(H),P=aD.slidesSizesGrid[H],L=M[0].swiperSlideOffset,aF=(G-L-P/2)/P*aD.params.coverflow.modifier,E=aD.isHorizontal()?I*aF:0,aG=aD.isHorizontal()?0:I*aF,O=-R*Math.abs(aF),S=aD.isHorizontal()?0:aD.params.coverflow.stretch*aF,W=aD.isHorizontal()?aD.params.coverflow.stretch*aF:0;Math.abs(W)<0.001&&(W=0),Math.abs(S)<0.001&&(S=0),Math.abs(O)<0.001&&(O=0),Math.abs(E)<0.001&&(E=0),Math.abs(aG)<0.001&&(aG=0);var T="translate3d("+W+"px,"+S+"px,"+O+"px)  rotateX("+aG+"deg) rotateY("+E+"deg)";if(M.transform(T),M[0].style.zIndex=-Math.abs(Math.round(aF))+1,aD.params.coverflow.slideShadows){var D=aD.isHorizontal()?M.find(".swiper-slide-shadow-left"):M.find(".swiper-slide-shadow-top"),C=aD.isHorizontal()?M.find(".swiper-slide-shadow-right"):M.find(".swiper-slide-shadow-bottom");0===D.length&&(D=u('<div class="swiper-slide-shadow-'+(aD.isHorizontal()?"left":"top")+'"></div>'),M.append(D)),0===C.length&&(C=u('<div class="swiper-slide-shadow-'+(aD.isHorizontal()?"right":"bottom")+'"></div>'),M.append(C)),D.length&&(D[0].style.opacity=aF>0?aF:0),C.length&&(C[0].style.opacity=-aF>0?-aF:0)}}if(aD.browser.ie){var B=aD.wrapper[0].style;B.perspectiveOrigin=G+"px 50%"}},setTransition:function(i){aD.slides.transition(i).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(i)}}},aD.lazy={initialImageLoaded:!1,loadImageInSlide:function(D,B){if("undefined"!=typeof D&&("undefined"==typeof B&&(B=!0),0!==aD.slides.length)){var C=aD.slides.eq(D),s=C.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!C.hasClass("swiper-lazy")||C.hasClass("swiper-lazy-loaded")||C.hasClass("swiper-lazy-loading")||(s=s.add(C[0])),0!==s.length&&s.each(function(){var H=u(this);H.addClass("swiper-lazy-loading");var E=H.attr("data-background"),G=H.attr("data-src"),I=H.attr("data-srcset");aD.loadImage(H[0],G||E,I,!1,function(){if(E?(H.css("background-image",'url("'+E+'")'),H.removeAttr("data-background")):(I&&(H.attr("srcset",I),H.removeAttr("data-srcset")),G&&(H.attr("src",G),H.removeAttr("data-src"))),H.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),C.find(".swiper-lazy-preloader, .preloader").remove(),aD.params.loop&&B){var L=C.attr("data-swiper-slide-index");if(C.hasClass(aD.params.slideDuplicateClass)){var M=aD.wrapper.children('[data-swiper-slide-index="'+L+'"]:not(.'+aD.params.slideDuplicateClass+")");aD.lazy.loadImageInSlide(M.index(),!1)}else{var i=aD.wrapper.children("."+aD.params.slideDuplicateClass+'[data-swiper-slide-index="'+L+'"]');aD.lazy.loadImageInSlide(i.index(),!1)}}aD.emit("onLazyImageReady",aD,C[0],H[0])}),aD.emit("onLazyImageLoad",aD,C[0],H[0])})}},load:function(){var G;if(aD.params.watchSlidesVisibility){aD.wrapper.children("."+aD.params.slideVisibleClass).each(function(){aD.lazy.loadImageInSlide(u(this).index())})}else{if(aD.params.slidesPerView>1){for(G=aD.activeIndex;G<aD.activeIndex+aD.params.slidesPerView;G++){aD.slides[G]&&aD.lazy.loadImageInSlide(G)}}else{aD.lazy.loadImageInSlide(aD.activeIndex)}}if(aD.params.lazyLoadingInPrevNext){if(aD.params.slidesPerView>1||aD.params.lazyLoadingInPrevNextAmount&&aD.params.lazyLoadingInPrevNextAmount>1){var C=aD.params.lazyLoadingInPrevNextAmount,E=aD.params.slidesPerView,B=Math.min(aD.activeIndex+E+Math.max(C,E),aD.slides.length),D=Math.max(aD.activeIndex-Math.max(E,C),0);for(G=aD.activeIndex+aD.params.slidesPerView;B>G;G++){aD.slides[G]&&aD.lazy.loadImageInSlide(G)}for(G=D;G<aD.activeIndex;G++){aD.slides[G]&&aD.lazy.loadImageInSlide(G)}}else{var I=aD.wrapper.children("."+aD.params.slideNextClass);I.length>0&&aD.lazy.loadImageInSlide(I.index());var H=aD.wrapper.children("."+aD.params.slidePrevClass);H.length>0&&aD.lazy.loadImageInSlide(H.index())}}},onTransitionStart:function(){aD.params.lazyLoading&&(aD.params.lazyLoadingOnTransitionStart||!aD.params.lazyLoadingOnTransitionStart&&!aD.lazy.initialImageLoaded)&&aD.lazy.load()},onTransitionEnd:function(){aD.params.lazyLoading&&!aD.params.lazyLoadingOnTransitionStart&&aD.lazy.load()}},aD.scrollbar={isTouched:!1,setDragPosition:function(H){var B=aD.scrollbar,D=aD.isHorizontal()?"touchstart"===H.type||"touchmove"===H.type?H.targetTouches[0].pageX:H.pageX||H.clientX:"touchstart"===H.type||"touchmove"===H.type?H.targetTouches[0].pageY:H.pageY||H.clientY,G=D-B.track.offset()[aD.isHorizontal()?"left":"top"]-B.dragSize/2,C=-aD.minTranslate()*B.moveDivider,E=-aD.maxTranslate()*B.moveDivider;C>G?G=C:G>E&&(G=E),G=-G/B.moveDivider,aD.updateProgress(G),aD.setWrapperTranslate(G,!0)},dragStart:function(s){var i=aD.scrollbar;i.isTouched=!0,s.preventDefault(),s.stopPropagation(),i.setDragPosition(s),clearTimeout(i.dragTimeout),i.track.transition(0),aD.params.scrollbarHide&&i.track.css("opacity",1),aD.wrapper.transition(100),i.drag.transition(100),aD.emit("onScrollbarDragStart",aD)},dragMove:function(s){var i=aD.scrollbar;i.isTouched&&(s.preventDefault?s.preventDefault():s.returnValue=!1,i.setDragPosition(s),aD.wrapper.transition(0),i.track.transition(0),i.drag.transition(0),aD.emit("onScrollbarDragMove",aD))},dragEnd:function(s){var i=aD.scrollbar;i.isTouched&&(i.isTouched=!1,aD.params.scrollbarHide&&(clearTimeout(i.dragTimeout),i.dragTimeout=setTimeout(function(){i.track.css("opacity",0),i.track.transition(400)},1000)),aD.emit("onScrollbarDragEnd",aD),aD.params.scrollbarSnapOnRelease&&aD.slideReset())},enableDraggable:function(){var s=aD.scrollbar,i=aD.support.touch?s.track:document;u(s.track).on(aD.touchEvents.start,s.dragStart),u(i).on(aD.touchEvents.move,s.dragMove),u(i).on(aD.touchEvents.end,s.dragEnd)},disableDraggable:function(){var s=aD.scrollbar,i=aD.support.touch?s.track:document;u(s.track).off(aD.touchEvents.start,s.dragStart),u(i).off(aD.touchEvents.move,s.dragMove),u(i).off(aD.touchEvents.end,s.dragEnd)},set:function(){if(aD.params.scrollbar){var i=aD.scrollbar;i.track=u(aD.params.scrollbar),aD.params.uniqueNavElements&&"string"==typeof aD.params.scrollbar&&i.track.length>1&&1===aD.container.find(aD.params.scrollbar).length&&(i.track=aD.container.find(aD.params.scrollbar)),i.drag=i.track.find(".swiper-scrollbar-drag"),0===i.drag.length&&(i.drag=u('<div class="swiper-scrollbar-drag"></div>'),i.track.append(i.drag)),i.drag[0].style.width="",i.drag[0].style.height="",i.trackSize=aD.isHorizontal()?i.track[0].offsetWidth:i.track[0].offsetHeight,i.divider=aD.size/aD.virtualSize,i.moveDivider=i.divider*(i.trackSize/aD.size),i.dragSize=i.trackSize*i.divider,aD.isHorizontal()?i.drag[0].style.width=i.dragSize+"px":i.drag[0].style.height=i.dragSize+"px",i.divider>=1?i.track[0].style.display="none":i.track[0].style.display="",aD.params.scrollbarHide&&(i.track[0].style.opacity=0)}},setTranslate:function(){if(aD.params.scrollbar){var B,i=aD.scrollbar,s=(aD.translate||0,i.dragSize);B=(i.trackSize-i.dragSize)*aD.progress,aD.rtl&&aD.isHorizontal()?(B=-B,B>0?(s=i.dragSize-B,B=0):-B+i.dragSize>i.trackSize&&(s=i.trackSize+B)):0>B?(s=i.dragSize+B,B=0):B+i.dragSize>i.trackSize&&(s=i.trackSize-B),aD.isHorizontal()?(aD.support.transforms3d?i.drag.transform("translate3d("+B+"px, 0, 0)"):i.drag.transform("translateX("+B+"px)"),i.drag[0].style.width=s+"px"):(aD.support.transforms3d?i.drag.transform("translate3d(0px, "+B+"px, 0)"):i.drag.transform("translateY("+B+"px)"),i.drag[0].style.height=s+"px"),aD.params.scrollbarHide&&(clearTimeout(i.timeout),i.track[0].style.opacity=1,i.timeout=setTimeout(function(){i.track[0].style.opacity=0,i.track.transition(400)},1000))}},setTransition:function(i){aD.params.scrollbar&&aD.scrollbar.drag.transition(i)}},aD.controller={LinearSpline:function(E,s){this.x=E,this.y=s,this.lastIndex=E.length-1;var C,D;this.x.length;this.interpolate=function(i){return i?(D=B(this.x,i),C=D-1,(i-this.x[C])*(this.y[D]-this.y[C])/(this.x[D]-this.x[C])+this.y[C]):0};var B=function(){var H,i,G;return function(L,I){for(i=-1,H=L.length;H-i>1;){L[G=H+i>>1]<=I?i=G:H=G}return H}}()},getInterpolateFunction:function(i){aD.controller.spline||(aD.controller.spline=aD.params.loop?new aD.controller.LinearSpline(aD.slidesGrid,i.slidesGrid):new aD.controller.LinearSpline(aD.snapGrid,i.snapGrid))},setTranslate:function(G,B){function E(i){G=i.rtl&&"horizontal"===i.params.direction?-aD.translate:aD.translate,"slide"===aD.params.controlBy&&(aD.controller.getInterpolateFunction(i),D=-aD.controller.spline.interpolate(-G)),D&&"container"!==aD.params.controlBy||(C=(i.maxTranslate()-i.minTranslate())/(aD.maxTranslate()-aD.minTranslate()),D=(G-aD.minTranslate())*C+i.minTranslate()),aD.params.controlInverse&&(D=i.maxTranslate()-D),i.updateProgress(D),i.setWrapperTranslate(D,!1,aD),i.updateActiveIndex()}var C,D,I=aD.params.control;if(aD.isArray(I)){for(var H=0;H<I.length;H++){I[H]!==B&&I[H] instanceof w&&E(I[H])}}else{I instanceof w&&B!==I&&E(I)}},setTransition:function(G,B){function E(i){i.setWrapperTransition(G,aD),0!==G&&(i.onTransitionStart(),i.wrapper.transitionEnd(function(){D&&(i.params.loop&&"slide"===aD.params.controlBy&&i.fixLoop(),i.onTransitionEnd())}))}var C,D=aD.params.control;if(aD.isArray(D)){for(C=0;C<D.length;C++){D[C]!==B&&D[C] instanceof w&&E(D[C])}}else{D instanceof w&&B!==D&&E(D)}}},aD.hashnav={init:function(){if(aD.params.hashnav){aD.hashnav.initialized=!0;var H=document.location.hash.replace("#","");if(H){for(var B=0,D=0,G=aD.slides.length;G>D;D++){var C=aD.slides.eq(D),E=C.attr("data-hash");if(E===H&&!C.hasClass(aD.params.slideDuplicateClass)){var I=C.index();aD.slideTo(I,B,aD.params.runCallbacksOnInit,!0)}}}}},setHash:function(){aD.hashnav.initialized&&aD.params.hashnav&&(document.location.hash=aD.slides.eq(aD.activeIndex).attr("data-hash")||"")}},aD.disableKeyboardControl=function(){aD.params.keyboardControl=!1,u(document).off("keydown",ap)},aD.enableKeyboardControl=function(){aD.params.keyboardControl=!0,u(document).on("keydown",ap)},aD.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},aD.params.mousewheelControl){try{new window.WheelEvent("wheel"),aD.mousewheel.event="wheel"}catch(X){(window.WheelEvent||aD.container[0]&&"wheel" in aD.container[0])&&(aD.mousewheel.event="wheel")}!aD.mousewheel.event&&window.WheelEvent,aD.mousewheel.event||void 0===document.onmousewheel||(aD.mousewheel.event="mousewheel"),aD.mousewheel.event||(aD.mousewheel.event="DOMMouseScroll")}aD.disableMousewheelControl=function(){return aD.mousewheel.event?(aD.container.off(aD.mousewheel.event,aB),!0):!1},aD.enableMousewheelControl=function(){return aD.mousewheel.event?(aD.container.on(aD.mousewheel.event,aB),!0):!1},aD.parallax={setTranslate:function(){aD.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){an(this,aD.progress)}),aD.slides.each(function(){var i=u(this);i.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var s=Math.min(Math.max(i[0].progress,-1),1);an(this,s)})})},setTransition:function(i){"undefined"==typeof i&&(i=aD.params.speed),aD.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var s=u(this),B=parseInt(s.attr("data-swiper-parallax-duration"),10)||i;0===i&&(B=0),s.transition(B)})}},aD._plugins=[];for(var Q in aD.plugins){var F=aD.plugins[Q](aD,aD.params[Q]);F&&aD._plugins.push(F)}return aD.callPlugins=function(s){for(var i=0;i<aD._plugins.length;i++){s in aD._plugins[i]&&aD._plugins[i][s](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}},aD.emitterEventListeners={},aD.emit=function(s){aD.params[s]&&aD.params[s](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var i;if(aD.emitterEventListeners[s]){for(i=0;i<aD.emitterEventListeners[s].length;i++){aD.emitterEventListeners[s][i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}aD.callPlugins&&aD.callPlugins(s,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},aD.on=function(s,i){return s=aC(s),aD.emitterEventListeners[s]||(aD.emitterEventListeners[s]=[]),aD.emitterEventListeners[s].push(i),aD},aD.off=function(B,i){var s;if(B=aC(B),"undefined"==typeof i){return aD.emitterEventListeners[B]=[],aD}if(aD.emitterEventListeners[B]&&0!==aD.emitterEventListeners[B].length){for(s=0;s<aD.emitterEventListeners[B].length;s++){aD.emitterEventListeners[B][s]===i&&aD.emitterEventListeners[B].splice(s,1)}return aD}},aD.once=function(B,i){B=aC(B);var s=function(){i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),aD.off(B,s)};return aD.on(B,s),aD},aD.a11y={makeFocusable:function(i){return i.attr("tabIndex","0"),i},addRole:function(s,i){return s.attr("role",i),s},addLabel:function(s,i){return s.attr("aria-label",i),s},disable:function(i){return i.attr("aria-disabled",!0),i},enable:function(i){return i.attr("aria-disabled",!1),i},onEnterKey:function(i){13===i.keyCode&&(u(i.target).is(aD.params.nextButton)?(aD.onClickNext(i),aD.isEnd?aD.a11y.notify(aD.params.lastSlideMessage):aD.a11y.notify(aD.params.nextSlideMessage)):u(i.target).is(aD.params.prevButton)&&(aD.onClickPrev(i),aD.isBeginning?aD.a11y.notify(aD.params.firstSlideMessage):aD.a11y.notify(aD.params.prevSlideMessage)),u(i.target).is("."+aD.params.bulletClass)&&u(i.target)[0].click())},liveRegion:u('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(s){var i=aD.a11y.liveRegion;0!==i.length&&(i.html(""),i.html(s))},init:function(){aD.params.nextButton&&aD.nextButton&&aD.nextButton.length>0&&(aD.a11y.makeFocusable(aD.nextButton),aD.a11y.addRole(aD.nextButton,"button"),aD.a11y.addLabel(aD.nextButton,aD.params.nextSlideMessage)),aD.params.prevButton&&aD.prevButton&&aD.prevButton.length>0&&(aD.a11y.makeFocusable(aD.prevButton),aD.a11y.addRole(aD.prevButton,"button"),aD.a11y.addLabel(aD.prevButton,aD.params.prevSlideMessage)),u(aD.container).append(aD.a11y.liveRegion)},initPagination:function(){aD.params.pagination&&aD.params.paginationClickable&&aD.bullets&&aD.bullets.length&&aD.bullets.each(function(){var i=u(this);aD.a11y.makeFocusable(i),aD.a11y.addRole(i,"button"),aD.a11y.addLabel(i,aD.params.paginationBulletMessage.replace(/{{index}}/,i.index()+1))})},destroy:function(){aD.a11y.liveRegion&&aD.a11y.liveRegion.length>0&&aD.a11y.liveRegion.remove()}},aD.init=function(){aD.params.loop&&aD.createLoop(),aD.updateContainerSize(),aD.updateSlidesSize(),aD.updatePagination(),aD.params.scrollbar&&aD.scrollbar&&(aD.scrollbar.set(),aD.params.scrollbarDraggable&&aD.scrollbar.enableDraggable()),"slide"!==aD.params.effect&&aD.effects[aD.params.effect]&&(aD.params.loop||aD.updateProgress(),aD.effects[aD.params.effect].setTranslate()),aD.params.loop?aD.slideTo(aD.params.initialSlide+aD.loopedSlides,0,aD.params.runCallbacksOnInit):(aD.slideTo(aD.params.initialSlide,0,aD.params.runCallbacksOnInit),0===aD.params.initialSlide&&(aD.parallax&&aD.params.parallax&&aD.parallax.setTranslate(),aD.lazy&&aD.params.lazyLoading&&(aD.lazy.load(),aD.lazy.initialImageLoaded=!0))),aD.attachEvents(),aD.params.observer&&aD.support.observer&&aD.initObservers(),aD.params.preloadImages&&!aD.params.lazyLoading&&aD.preloadImages(),aD.params.autoplay&&aD.startAutoplay(),aD.params.keyboardControl&&aD.enableKeyboardControl&&aD.enableKeyboardControl(),aD.params.mousewheelControl&&aD.enableMousewheelControl&&aD.enableMousewheelControl(),aD.params.hashnav&&aD.hashnav&&aD.hashnav.init(),aD.params.a11y&&aD.a11y&&aD.a11y.init(),aD.emit("onInit",aD)},aD.cleanupStyles=function(){aD.container.removeClass(aD.classNames.join(" ")).removeAttr("style"),aD.wrapper.removeAttr("style"),aD.slides&&aD.slides.length&&aD.slides.removeClass([aD.params.slideVisibleClass,aD.params.slideActiveClass,aD.params.slideNextClass,aD.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),aD.paginationContainer&&aD.paginationContainer.length&&aD.paginationContainer.removeClass(aD.params.paginationHiddenClass),aD.bullets&&aD.bullets.length&&aD.bullets.removeClass(aD.params.bulletActiveClass),aD.params.prevButton&&u(aD.params.prevButton).removeClass(aD.params.buttonDisabledClass),aD.params.nextButton&&u(aD.params.nextButton).removeClass(aD.params.buttonDisabledClass),aD.params.scrollbar&&aD.scrollbar&&(aD.scrollbar.track&&aD.scrollbar.track.length&&aD.scrollbar.track.removeAttr("style"),aD.scrollbar.drag&&aD.scrollbar.drag.length&&aD.scrollbar.drag.removeAttr("style"))},aD.destroy=function(s,i){aD.detachEvents(),aD.stopAutoplay(),aD.params.scrollbar&&aD.scrollbar&&aD.params.scrollbarDraggable&&aD.scrollbar.disableDraggable(),aD.params.loop&&aD.destroyLoop(),i&&aD.cleanupStyles(),aD.disconnectObservers(),aD.params.keyboardControl&&aD.disableKeyboardControl&&aD.disableKeyboardControl(),aD.params.mousewheelControl&&aD.disableMousewheelControl&&aD.disableMousewheelControl(),aD.params.a11y&&aD.a11y&&aD.a11y.destroy(),aD.emit("onDestroy"),s!==!1&&(aD=null)},aD.init(),aD}};w.prototype={isSafari:function(){var i=navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(i){return"[object Array]"===Object.prototype.toString.apply(i)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var E=navigator.userAgent,s=E.match(/(Android);?[\s\/]+([\d.]+)?/),C=E.match(/(iPad).*OS\s([\d_]+)/),D=E.match(/(iPod)(.*OS\s([\d_]+))?/),B=!C&&E.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:C||B||D,android:s}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return !!("ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var i=document.createElement("div").style;return"webkitPerspective" in i||"MozPerspective" in i||"OPerspective" in i||"MsPerspective" in i||"perspective" in i}(),flexbox:function(){for(var B=document.createElement("div").style,i="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),s=0;s<i.length;s++){if(i[s] in B){return !0}}}(),observer:function(){return"MutationObserver" in window||"WebkitMutationObserver" in window}()},plugins:{}};for(var y=(function(){var s=function(D){var B=this,C=0;for(C=0;C<D.length;C++){B[C]=D[C]}return B.length=D.length,this},i=function(C,E){var G=[],D=0;if(C&&!E&&C instanceof s){return C}if(C){if("string"==typeof C){var F,I,H=C.trim();if(H.indexOf("<")>=0&&H.indexOf(">")>=0){var B="div";for(0===H.indexOf("<li")&&(B="ul"),0===H.indexOf("<tr")&&(B="tbody"),(0===H.indexOf("<td")||0===H.indexOf("<th"))&&(B="tr"),0===H.indexOf("<tbody")&&(B="table"),0===H.indexOf("<option")&&(B="select"),I=document.createElement(B),I.innerHTML=C,D=0;D<I.childNodes.length;D++){G.push(I.childNodes[D])}}else{for(F=E||"#"!==C[0]||C.match(/[ .<>:~]/)?(E||document).querySelectorAll(C):[document.getElementById(C.split("#")[1])],D=0;D<F.length;D++){F[D]&&G.push(F[D])}}}else{if(C.nodeType||C===window||C===document){G.push(C)}else{if(C.length>0&&C[0].nodeType){for(D=0;D<C.length;D++){G.push(C[D])}}}}}return new s(G)};return s.prototype={addClass:function(E){if("undefined"==typeof E){return this}for(var B=E.split(" "),C=0;C<B.length;C++){for(var D=0;D<this.length;D++){this[D].classList.add(B[C])}}return this},removeClass:function(E){for(var B=E.split(" "),C=0;C<B.length;C++){for(var D=0;D<this.length;D++){this[D].classList.remove(B[C])}}return this},hasClass:function(B){return this[0]?this[0].classList.contains(B):!1},toggleClass:function(E){for(var B=E.split(" "),C=0;C<B.length;C++){for(var D=0;D<this.length;D++){this[D].classList.toggle(B[C])}}return this},attr:function(E,B){if(1===arguments.length&&"string"==typeof E){return this[0]?this[0].getAttribute(E):void 0}for(var C=0;C<this.length;C++){if(2===arguments.length){this[C].setAttribute(E,B)}else{for(var D in E){this[C][D]=E[D],this[C].setAttribute(D,E[D])}}}return this},removeAttr:function(C){for(var B=0;B<this.length;B++){this[B].removeAttribute(C)}return this},data:function(F,B){if("undefined"!=typeof B){for(var D=0;D<this.length;D++){var E=this[D];E.dom7ElementDataStorage||(E.dom7ElementDataStorage={}),E.dom7ElementDataStorage[F]=B}return this}if(this[0]){var C=this[0].getAttribute("data-"+F);return C?C:this[0].dom7ElementDataStorage&&F in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[F]:void 0}},transform:function(D){for(var B=0;B<this.length;B++){var C=this[B].style;C.webkitTransform=C.MsTransform=C.msTransform=C.MozTransform=C.OTransform=C.transform=D}return this},transition:function(D){"string"!=typeof D&&(D+="ms");for(var B=0;B<this.length;B++){var C=this[B].style;C.webkitTransitionDuration=C.MsTransitionDuration=C.msTransitionDuration=C.MozTransitionDuration=C.OTransitionDuration=C.transitionDuration=D}return this},on:function(G,D,F,C){function E(L){var J=L.target;if(i(J).is(D)){F.call(J,L)}else{for(var K=i(J).parents(),M=0;M<K.length;M++){i(K[M]).is(D)&&F.call(K[M],L)}}}var I,H,B=G.split(" ");for(I=0;I<this.length;I++){if("function"==typeof D||D===!1){for("function"==typeof D&&(F=arguments[1],C=arguments[2]||!1),H=0;H<B.length;H++){this[I].addEventListener(B[H],F,C)}}else{for(H=0;H<B.length;H++){this[I].dom7LiveListeners||(this[I].dom7LiveListeners=[]),this[I].dom7LiveListeners.push({listener:F,liveListener:E}),this[I].addEventListener(B[H],E,C)}}}return this},off:function(G,B,D,F){for(var C=G.split(" "),E=0;E<C.length;E++){for(var I=0;I<this.length;I++){if("function"==typeof B||B===!1){"function"==typeof B&&(D=arguments[1],F=arguments[2]||!1),this[I].removeEventListener(C[E],D,F)}else{if(this[I].dom7LiveListeners){for(var H=0;H<this[I].dom7LiveListeners.length;H++){this[I].dom7LiveListeners[H].listener===D&&this[I].removeEventListener(C[E],this[I].dom7LiveListeners[H].liveListener,F)}}}}}return this},once:function(G,B,D,F){function C(H){D(H),E.off(G,B,C,F)}var E=this;"function"==typeof B&&(B=!1,D=arguments[1],F=arguments[2]),E.on(G,B,C,F)},trigger:function(F,B){for(var D=0;D<this.length;D++){var E;try{E=new window.CustomEvent(F,{detail:B,bubbles:!0,cancelable:!0})}catch(C){E=document.createEvent("Event"),E.initEvent(F,!0,!0),E.detail=B}this[D].dispatchEvent(E)}return this},transitionEnd:function(F){function B(G){if(G.target===this){for(F.call(this,G),D=0;D<E.length;D++){C.off(E[D],B)}}}var D,E=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],C=this;if(F){for(D=0;D<E.length;D++){C.on(E[D],B)}}return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(B){return this.length>0?B?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(B){return this.length>0?B?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var G=this[0],B=G.getBoundingClientRect(),D=document.body,F=G.clientTop||D.clientTop||0,C=G.clientLeft||D.clientLeft||0,E=window.pageYOffset||G.scrollTop,H=window.pageXOffset||G.scrollLeft;return{top:B.top+E-F,left:B.left+H-C}}return null},css:function(E,B){var C;if(1===arguments.length){if("string"!=typeof E){for(C=0;C<this.length;C++){for(var D in E){this[C].style[D]=E[D]}}return this}if(this[0]){return window.getComputedStyle(this[0],null).getPropertyValue(E)}}if(2===arguments.length&&"string"==typeof E){for(C=0;C<this.length;C++){this[C].style[E]=B}return this}return this},each:function(C){for(var B=0;B<this.length;B++){C.call(this[B],B,this[B])}return this},html:function(C){if("undefined"==typeof C){return this[0]?this[0].innerHTML:void 0}for(var B=0;B<this.length;B++){this[B].innerHTML=C}return this},text:function(C){if("undefined"==typeof C){return this[0]?this[0].textContent.trim():null}for(var B=0;B<this.length;B++){this[B].textContent=C}return this},is:function(C){if(!this[0]){return !1}var E,B;if("string"==typeof C){var D=this[0];if(D===document){return C===document}if(D===window){return C===window}if(D.matches){return D.matches(C)}if(D.webkitMatchesSelector){return D.webkitMatchesSelector(C)}if(D.mozMatchesSelector){return D.mozMatchesSelector(C)}if(D.msMatchesSelector){return D.msMatchesSelector(C)}for(E=i(C),B=0;B<E.length;B++){if(E[B]===this[0]){return !0}}return !1}if(C===document){return this[0]===document}if(C===window){return this[0]===window}if(C.nodeType||C instanceof s){for(E=C.nodeType?[C]:C,B=0;B<E.length;B++){if(E[B]===this[0]){return !0}}return !1}return !1},index:function(){if(this[0]){for(var C=this[0],B=0;null!==(C=C.previousSibling);){1===C.nodeType&&B++}return B}},eq:function(B){if("undefined"==typeof B){return this}var C,D=this.length;return B>D-1?new s([]):0>B?(C=D+B,new s(0>C?[]:[this[C]])):new s([this[B]])},append:function(B){var D,E;for(D=0;D<this.length;D++){if("string"==typeof B){var C=document.createElement("div");for(C.innerHTML=B;C.firstChild;){this[D].appendChild(C.firstChild)}}else{if(B instanceof s){for(E=0;E<B.length;E++){this[D].appendChild(B[E])}}else{this[D].appendChild(B)}}}return this},prepend:function(B){var D,E;for(D=0;D<this.length;D++){if("string"==typeof B){var C=document.createElement("div");for(C.innerHTML=B,E=C.childNodes.length-1;E>=0;E--){this[D].insertBefore(C.childNodes[E],this[D].childNodes[0])}}else{if(B instanceof s){for(E=0;E<B.length;E++){this[D].insertBefore(B[E],this[D].childNodes[0])}}else{this[D].insertBefore(B,this[D].childNodes[0])}}}return this},insertBefore:function(E){for(var C=i(E),D=0;D<this.length;D++){if(1===C.length){C[0].parentNode.insertBefore(this[D],C[0])}else{if(C.length>1){for(var B=0;B<C.length;B++){C[B].parentNode.insertBefore(this[D].cloneNode(!0),C[B])}}}}},insertAfter:function(E){for(var C=i(E),D=0;D<this.length;D++){if(1===C.length){C[0].parentNode.insertBefore(this[D],C[0].nextSibling)}else{if(C.length>1){for(var B=0;B<C.length;B++){C[B].parentNode.insertBefore(this[D].cloneNode(!0),C[B].nextSibling)}}}}},next:function(B){return new s(this.length>0?B?this[0].nextElementSibling&&i(this[0].nextElementSibling).is(B)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(C){var E=[],B=this[0];if(!B){return new s([])}for(;B.nextElementSibling;){var D=B.nextElementSibling;C?i(D).is(C)&&E.push(D):E.push(D),B=D}return new s(E)},prev:function(B){return new s(this.length>0?B?this[0].previousElementSibling&&i(this[0].previousElementSibling).is(B)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(C){var E=[],B=this[0];if(!B){return new s([])}for(;B.previousElementSibling;){var D=B.previousElementSibling;C?i(D).is(C)&&E.push(D):E.push(D),B=D}return new s(E)},parent:function(D){for(var B=[],C=0;C<this.length;C++){D?i(this[C].parentNode).is(D)&&B.push(this[C].parentNode):B.push(this[C].parentNode)}return i(i.unique(B))},parents:function(E){for(var C=[],D=0;D<this.length;D++){for(var B=this[D].parentNode;B;){E?i(B).is(E)&&C.push(B):C.push(B),B=B.parentNode}}return i(i.unique(C))},find:function(B){for(var D=[],F=0;F<this.length;F++){for(var C=this[F].querySelectorAll(B),E=0;E<C.length;E++){D.push(C[E])}}return new s(D)},children:function(C){for(var E=[],B=0;B<this.length;B++){for(var D=this[B].childNodes,F=0;F<D.length;F++){C?1===D[F].nodeType&&i(D[F]).is(C)&&E.push(D[F]):1===D[F].nodeType&&E.push(D[F])}}return new s(i.unique(E))},remove:function(){for(var B=0;B<this.length;B++){this[B].parentNode&&this[B].parentNode.removeChild(this[B])}return this},add:function(){var E,C,D=this;for(E=0;E<arguments.length;E++){var B=i(arguments[E]);for(C=0;C<B.length;C++){D[D.length]=B[C],D.length++}}return D}},i.fn=s.prototype,i.unique=function(D){for(var B=[],C=0;C<D.length;C++){-1===B.indexOf(D[C])&&B.push(D[C])}return B},i}()),v=["jQuery","Zepto","Dom7"],x=0;x<v.length;x++){window[v[x]]&&z(window[v[x]])}var A;A="undefined"==typeof y?window.Dom7||window.Zepto||window.jQuery:y,A&&("transitionEnd" in A.fn||(A.fn.transitionEnd=function(E){function s(i){if(i.target===this){for(E.call(this,i),C=0;C<D.length;C++){B.off(D[C],s)}}}var C,D=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],B=this;if(E){for(C=0;C<D.length;C++){B.on(D[C],s)}}return this}),"transform" in A.fn||(A.fn.transform=function(B){for(var i=0;i<this.length;i++){var s=this[i].style;s.webkitTransform=s.MsTransform=s.msTransform=s.MozTransform=s.OTransform=s.transform=B}return this}),"transition" in A.fn||(A.fn.transition=function(B){"string"!=typeof B&&(B+="ms");for(var i=0;i<this.length;i++){var s=this[i].style;s.webkitTransitionDuration=s.MsTransitionDuration=s.msTransitionDuration=s.MozTransitionDuration=s.OTransitionDuration=s.transitionDuration=B}return this})),window.Swiper=w}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){return window.Swiper});var l=function(s,i){s.className+=(s.className?" ":"")+i};var e=function(w){var x=w.container.querySelector("#_popIn_ad_swiper ._popIn_recommend_articles");l(x,"swiper-container");var y=w.container.querySelector("#_popIn_ad_swiper ._popIn_infinite_page");l(y,"swiper-wrapper");var v=w.container.querySelectorAll("#_popIn_ad_swiper ._popIn_recommend_article");for(var s=0,u=v.length;s<u;s++){l(v[s],"swiper-slide")}var i=new Swiper("#_popIn_ad_swiper ._popIn_recommend_articles",{loop:true,lidesPerView:2,pagination:".swiper-pagination",slidesPerView:"auto",paginationClickable:true,spaceBetween:20})};var r={};if(typeof r.mobile==="undefined"){r.mobile={}}r.mobile["Read"]={mainNode:"#blog-article",readArticle:true};if(typeof r.pc==="undefined"){r.pc={}}r.pc["Read"]={mainNode:".blogbody",readArticle:true};if(typeof r.pc==="undefined"){r.pc={}}r.pc["Discovery"]={adVideo:true,adEnable:true,load:"fast",agency:"popin-tw",templates:[{credit:"Recommended by",selector:"#_popIn_crawler, #_popIn_recommend",position:"AfterBegin",title:"",css:o["collect.pc"],type:["rand","related",0]},{abtestName:"",channelId:"pc_with_ad_tunning",dateFormat:"(Y年M月D日)",delWord:":: 隨意窩.+",delImage:"",mediaFormat:"PR",plugins:["Imageback"],afterRender:function(i){},css:o["responsive.pc"],imageInView:true,imageSize:"160",position:"AfterBegin",selector:"#_popIn_recommend",credit:"Recommended by",title:"您也可能喜歡這些文章:",infiniteSize:4,infinitePages:3,type:["pattern",["rand","related",10],["left","ad",4],["left","cf",0],["rand","ad_reserved",6],["rand","pop","recommend","hot",100],function(){var y=[0];var u=["ad_reserved","cf_img","hot_img","related_img","pop_img","recommend_img"];var x=[["cf_img","related_img","hot_img","pop_img","recommend_img"],["cf_img","related_img","hot_img","pop_img","recommend_img"],["cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"]];if(y.length===0){u.shift();x.push(u)}for(var w=x.length-1;w>0;w--){var v=Math.floor(Math.random()*(w+1));var s=x[w];x[w]=x[v];x[v]=s}y.forEach(function(i){x.splice(i,0,u)});return x}],excludeRules:function(i){return i.originalUrl.indexOf("b2722695")<0&&i.originalUrl.indexOf("vovo7666")<0},useCfRatio:0.5},{abtestName:"",channelId:"pc_no_ad",dateFormat:"(Y年M月D日)",delWord:":: 隨意窩.+",delImage:"",mediaFormat:"PR",plugins:["Imageback"],afterRender:function(i){},css:o["responsive.pc"],imageInView:true,imageSize:"160",position:"AfterBegin",selector:"#_popIn_recommend_no_ads",credit:"Recommended by",title:"您也可能喜歡這些文章:",infiniteSize:4,infinitePages:3,type:["pattern",["rand","related",10],["left","ad",0],["left","cf",0],["rand","ad_reserved",6],["rand","pop","recommend","hot",100],function(){var y=[3];var u=["ad_reserved","cf_img","hot_img","related_img","pop_img","recommend_img"];var x=[["cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"]];if(y.length===0){u.shift();x.push(u)}for(var w=x.length-1;w>0;w--){var v=Math.floor(Math.random()*(w+1));var s=x[w];x[w]=x[v];x[v]=s}y.forEach(function(i){x.splice(i,0,u)});return x}],excludeRules:function(i){return i.originalUrl.indexOf("b2722695")<0&&i.originalUrl.indexOf("vovo7666")<0},useCfRatio:0.5}],apiUrlAdd:"&r_category=all&country=tw&redirect=false",apiUrl:location.protocol+"//tw.popin.cc/popin_discovery/recommend?mode=new&url=%target"};if(typeof r.mobile==="undefined"){r.mobile={}}r.mobile["Discovery"]={adVideo:true,adEnable:true,load:"fast",agency:"popin-tw",templates:[{credit:"Recommended by",selector:"#_popIn_recommend",position:"AfterBegin",title:"",adVideoPosition:0,css:o["collect.mobile"],type:["rand","related",0]},{abtestName:"",channelId:"mobile_with_recommend_original_alg",adVideoPosition:1,dateFormat:"(Y年M月D日)",delWord:":: 隨意窩.+",delImage:"",afterRender:function(i){},css:o["standard.mobile"],imageSize:"160",imageInView:true,infiniteSize:5,infinitePages:3,plugins:["clickall","infinite"],position:"BeforeEnd",selector:"#_popIn_recommend",credit:"Recommended by",title:"您也可能喜歡這些文章",type:["pattern",["rand","related",10],["left","ad",8],["left","cf",50],["rand","ad_reserved",6],["rand","pop","recommend","hot",100],function(){var y=[0];var u=["ad_reserved","cf_img","hot_img","related_img","pop_img","recommend_img"];var x=[["cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"],["ad","cf_img","related_img","hot_img","pop_img","recommend_img"]];if(y.length===0){u.shift();x.push(u)}for(var w=x.length-1;w>0;w--){var v=Math.floor(Math.random()*(w+1));var s=x[w];x[w]=x[v];x[v]=s}y.forEach(function(i){x.splice(i,0,u)});return x}],mediaFormat:"PR（$MEDIA）",useCfRatio:1,containerId:"with_recommend",excludeRules:function(i){return i.originalUrl.indexOf("b2722695")<0&&i.originalUrl.indexOf("vovo7666")<0},displayUrlReplace:[{"blog.xuite.net":"m.xuite.net/blog"},{"vlog.xuite.net":"m.xuite.net/vlog"}],adVideoInsertSelector:location.href.indexOf("vlog")<0?"#blog-article":"#vlog-item",adVideoInsertPosition:"afterEnd"}],apiUrlAdd:"&r_category=all&country=tw&redirect=false",apiUrl:location.protocol+"//tw.popin.cc/popin_discovery/recommend?mode=new&url=%target"};var m={pid:"xuite_blog",urlReplace:[{"[?#].*":""},{"https://m.xuite.net/vlog/.+/":"https://vlog.xuite.net/play/"},{"https://m.xuite.net/blog/":"https://blog.xuite.net/"},{"http://m.xuite.net/blog/":"https://blog.xuite.net/"}]};(function(){try{function B(i){return typeof i!=="undefined"&&i!==""&&i!==0&&i!==false&&i!==null}function I(){var i=navigator.userAgent;return[/(tablet|ipad|playbook|silk)|(?!.*android.?_).*(?=android(?!.*mobile))/i].some(function(V){return(i.match(V))})?"tablet":[/Android/i,/webOS/i,/iPhone/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(V){return(i.match(V))})?"mobile":"pc"}function s(W,V){if(!B(W)||!B(V)){return W}var i=W;V.forEach(function(Y){var X=Object.keys(Y);X.forEach(function(Z){i=i.replace(new RegExp(Z),Y[Z])})});return i}function A(i){try{return window.sessionStorage.getItem(i)}catch(V){return undefined}}function R(i,W){try{window.sessionStorage.setItem(i,W)}catch(V){return false}}var D={ridOption:{"^https://vlog.xuite.net/.+":"302360","^https://blog.xuite.net/.+":"302361"},abtestRatio:1,device:"all",isActive:true,channelPrefix:"with_sz_",withAdLtr:false};var O=D.isActive;if(O!==true){return}var M=D.device;if(M!=="all"&&M!==I()){return}var H=D.withAdLtr;var w=A("_pi_cf_abtest_key_");if(w==="without_cf"){return}else{if(!w){var F=D.abtestRatio;if(Math.random()<=F){R("_pi_cf_abtest_key_","with_cf")}else{R("_pi_cf_abtest_key_","without_cf");return}}}if(typeof r!=="undefined"){var U=["all","all-test","pc","pc-test","mobile","mobile-test"];var u=D.ridOption;var z="";var J=s(location.href,m.urlReplace);for(var E in u){var y=new RegExp(E);if(y.test(J)){z="&rid="+u[E];break}}if(!z){z="&rid=000000"}var x=D.channelPrefix;for(var N=0,v=U.length;N<v;N++){var K=U[N];var T=r[K];if(typeof T==="undefined"||typeof T.Discovery==="undefined"){continue}var Q=T.Discovery;if(!Q){continue}if(Q.apiUrl){Q.apiUrl=Q.apiUrl.replace("&alg=ltr","").replace(/&rid=[^&]*/,"")}var S=Q.apiUrlAdd||"";if(H){S+="&alg=ltr"}Q.apiUrlAdd=S+z;for(var L=0,G=Q.templates.length;L<G;L++){var C=Q.templates[L];if(!C.channelId||C.withoutCf||C.withoutCfPrefix){continue}C.channelId=x+C.channelId}}}}catch(P){}})();var k=1;k+=(location.href.indexOf("popinlib6=true")>-1?1:0);if(k>0){(function(w,z){if(void 0===z[w]){z[w]=function(){z[w].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},z[w].clients=[];for(var y=function(i){return function(){return this["_"+i]=this["_"+i]||[],this["_"+i].push(Array.prototype.slice.call(arguments)),this}},x=["addRecord","set","trackEvent","trackPageview","trackClicks","ready"],u=0;u<x.length;u++){var B=x[u];z[w].prototype[B]=y(B)}var A=document.createElement("script");A.type="text/javascript",A.async=!0,A.src=("https:"===document.location.protocol?"https:":"http:")+"//api.popin.cc/td_js_sdk_171.js";var v=document.getElementsByTagName("script")[0];v.parentNode.insertBefore(A,v)}})("Treasure2",window);(function(){try{if(typeof window.PopIn6!=="undefined"){return}var aa=(typeof window._popIn_ad_block_enable!=="undefined"&&window._popIn_ad_block_enable)?"i.popincdn.com":"api.popin.cc";var E={common:m};window.PopIn6={uid:"",_tempLog:[],log:function(av){this._tempLog.push(av)},event:{},protocol:(/^https:/.test(window.location.protocol)===true)?"https:":"http:",domain:aa,handleError:ao};window.popInGlobal=window.popInGlobal||{};if(typeof Array.prototype.forEach==="undefined"){return}if((typeof window.performance!=="undefined")&&(typeof window.performance.getEntries==="function")){PopIn6.__PERFORMANCE_DISCOVERY_INIT__=window.performance.now()}if(typeof Object.assign!="function"){(function(){Object.assign=function(az){if(az===undefined||az===null){throw new TypeError("Cannot convert undefined or null to object")}var aw=Object(az);for(var ax=1;ax<arguments.length;ax++){var ay=arguments[ax];if(ay!==undefined&&ay!==null){for(var av in ay){if(Object.prototype.hasOwnProperty.call(ay,av)){aw[av]=ay[av]}}}}return aw}})()}var ai=new Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:"popin_ads"});ai.set("$global","td_global_id","td_global_id");ai.ready(function(){ai.trackValues=ai.getTrackValues()});window.PopIn6._logger=ai;ag(PopIn6.event);E._utils={ce:W,cio:A,inView:i,setPopInDomData:H,getPopInDomData:ar};function W(aw,av,az,ay){var ax=aw.appendChild(document.createElement(av));if(az){ax.setAttribute("class",az)}if(ay){ax.appendChild(document.createTextNode(ay))}return ax}function A(av,ax){av=av||"about:self";ax=ax||{};var ay=(typeof ax.pnode!=="undefined"&&typeof ax.pnode.nodeValue!=="undefined")?ax.pnode:document.body;var aw=W(ay,"iframe");aw.src=av;aw.setAttribute("scrolling","no");aw.setAttribute("frameBorder","0");aw.setAttribute("allowTransparency","true");(function(aA){aA.display="block";aA.width="0px";aA.height="0px";aA.margin="0px";aA.padding="0px";aA.overflow="none"})(aw.style);var az={element:aw,document:aw.contentDocument||aw.contentWindow.document,window:(aw.contentWindow)?aw.contentWindow:(aw.contentDocument.document)?aw.contentDocument.document:aw.contentDocument,write:function(aA){az.document.open();az.document.write(aA);az.document.close()}};return az}function z(av){var aw=av.getBoundingClientRect();return aw.top>0&&window.innerHeight-aw.top>0}var ad={valid:true};try{[["local",window.localStorage],["session",window.sessionStorage]].forEach(function(aw){var av={};var ax=aw[1];ad[aw[0]]=av;ad.valid=ad.valid&&!!ax.getItem;av.get=function(ay){return ax.getItem(ay)};av.set=function(ay,az){ax.setItem(ay,az)};av.remove=function(ay){ax.removeItem(ay)}})}catch(ap){ad.valid=false}function i(){if("function"===typeof window.IntersectionObserver){y.apply(this,arguments)}else{v.apply(this,arguments)}}var P=[];var K=false;function v(aw,ax){var av=function(){if(z(aw)){ax();return true}return false};if(!av()){P.push(av)}if(w(P)&&K===false){K=setInterval(function(){if(P.length>0){for(var az=P.length;az--;){var ay=P[az]();if(ay){P.splice(az,1)}}}if(P.length===0){clearInterval(K);K=false}},100)}}var au;var L={};var ah=0;function y(aw,ax){if(!au){au=new IntersectionObserver(function(ay){ay.forEach(function(aB){if(aB.isIntersecting){var az=aB.target.__popIn_inview_handler_key__;var aA=L[az];"function"===typeof aA&&aA();delete L[az];delete aB.target.__popIn_inview_handler_key__;au.unobserve(aB.target)}})},{rootMargin:"0px"})}var av=""+ah++;aw.__popIn_inview_handler_key__=av;L[av]=ax;au.observe(aw)}function w(av){return typeof av!=="undefined"&&av!==""&&av!==0&&av!==false&&av!==null}function F(ax,aw){if(!w(ax)||!w(aw)){return ax}var av=ax;aw.forEach(function(az){var ay=Object.keys(az);ay.forEach(function(aA){av=av.replace(new RegExp(aA),az[aA])})});return av}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!$";function af(az){var ay=0,aB="",ax="";for(var aw=0,aA=az.length;aw<aA;aw++){ax=az.charCodeAt(aw);ay=((ay<<5)-ay)+ax;ay|=0}for(var av=0;av<6;av++){aB+=s.charAt(ay&63);ay>>>=6}return aB}function ae(ay){var ax=ay.length,aw,av;while(0!==ax){av=Math.floor(Math.random()*ax);ax-=1;aw=ay[ax];ay[ax]=ay[av];ay[av]=aw}return ay}function G(av,ay){var az="_p6_"+(Date.now()*100+Math.round(Math.random()*100)).toString(16);window[az]=function(aA){try{ay(aA);delete window[az]}catch(aB){ao(aB)}};var ax=document.createElement("script");ax.type="text/javascript";ax.charset="utf-8";ax.async=true;ax.src=av+"&callback="+az;var aw=document.getElementsByTagName("script")[0];aw.parentNode.insertBefore(ax,aw)}function M(){var av=navigator.userAgent;return[/(tablet|ipad|playbook|silk)|(?!.*android.?_).*(?=android(?!.*mobile))/i].some(function(aw){return(av.match(aw))})?"tablet":[/Android/i,/webOS/i,/iPhone/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(aw){return(av.match(aw))})?"mobile":"pc"}function D(){var av=window.navigator.userAgent;switch(true){case /Android/.test(av):return"Android";case /iPhone|iPad|iPod/.test(av):return"iOS";case /Windows/.test(av):return"Windows";case /Mac OS X/.test(av):return"Mac"}return"other"}function ak(aw,av){try{return al(aw.split(av)[1].trim().split(/[^\w\.]/)[0])}catch(ax){}return"0.0.0"}function al(av){var aw=av.split(/[\._]/);return(parseInt(aw[0],10)||0)+"."+(parseInt(aw[1],10)||0)+"."+(parseInt(aw[2],10)||0)}function X(av,aw){switch(aw){case"Android":return ak(av,"Android");case"iOS":return ak(av,/OS /);case"Windows":return ak(av,/Phone/.test(av)?/Windows Phone (?:OS )?/:/Windows NT/);case"Mac":return ak(av,/Mac OS X /)}return"0.0.0"}function Q(av){switch(true){case /CriOS/.test(av):return"Chrome for iOS";case /Edge/.test(av):return"Edge";case /Chrome/.test(av):return"Chrome";case /Firefox/.test(av):return"Firefox";case /Android/.test(av):return"AOSP";case /MSIE|Trident/.test(av):return"IE";case /Safari\//.test(av):return"Safari";case /AppleWebKit/.test(av):return"WebKit";case /Vivaldi/.test(av):return"Vivaldi"}return""}function ab(aw,av){switch(av){case"Chrome for iOS":return ak(aw,"CriOS/");case"Edge":return ak(aw,"Edge/");case"Chrome":return ak(aw,"Chrome/");case"Firefox":return ak(aw,"Firefox/");case"Vivaldi":return ak(aw,"Vivaldi/");case"AOSP":return ak(aw,/Silk/.test(aw)?"Silk/":"Version/");case"IE":return/IEMobile/.test(aw)?ak(aw,"IEMobile/"):/MSIE/.test(aw)?ak(aw,"MSIE "):ak(aw,"rv:");case"Safari":return ak(aw,"Version/");case"Webkit":return ak(aw,"WebKit/")}return""}function am(){var av=window.screen;return av?[av.width,av.height].join("x"):"-"}function R(){var ax=document.documentElement&&document.documentElement.clientHeight;var aA=document.documentElement&&document.documentElement.clientWidth;var az=window.innerHeight;var aw=window.innerWidth;var av=ax<az?az:ax;var ay=aA<aw?aw:aA;return ay+"x"+av}function C(){var az=window.navigator;var aw=az.userAgent;var ay=D(aw);var aA=X(aw,ay);var av=Q(aw);var ax=ab(aw,av);return{os:ay,os_version:aA,browser:av,browser_version:ax,screen:am(),viewport:R(),user_agent:window.navigator.userAgent,referrer:document.referrer,path:location.pathname,charset:(document.characterSet||document.charset||"-").toLowerCase(),language:az&&(az.language||(az.language||az.browserLanguage)||"-").toLowerCase(),color:window.screen?window.screen.colorDepth+"-bit":"-",title:document.title,url:document.location.href.split("#")[0],platform:window.navigator.platform,host:document.location.host}}var at=C();function J(ax){var ay=ax.split(".");var av=[];for(var aw=ay.pop();ay.length>0;aw=ay.pop()){if(aw==="www"){break}av.push(aw);if(aw.length>3&&av.length>0){break}}return av.reverse().join(".")}function Z(av){var aw={};if(av.indexOf("?")>0){qString=av.substring(av.indexOf("?"));av=av.substring(0,av.indexOf("?"));qString.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(ay,ax,aA,az){aw[ax]=az})}return{url:av,qString:aw}}function ac(ax){var aw=/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/;var av=ax.match(aw);if(av){return{scheme:av[1],host:av[2],path:av[3],query:av[4],fragment:av[5]}}else{return null}}function ag(av){av._listeners={};av.addEventListener=function(aw,ax){if(!this._listeners[aw]){this._listeners[aw]=[]}this._listeners[aw].push(ax)};av.fireEvent=function(ay,ax){var aw=this;var az=aw._listeners[ay];if(!Array.isArray(ax)){ax=[ax]}ax.push(E);if(w(az)){az.forEach(function(aA){aA.apply(aw,ax)})}};av.addEventListenerFromEventMap=function(aA){if(!aA){return}var az;for(var ax in aA){if(!aA.hasOwnProperty(ax)){continue}az=aA[ax];if(!Array.isArray(az)){az=[az]}for(var aw=0,ay;ay=az[aw];aw++){"function"===typeof ay&&av.addEventListener(ax,ay)}}};window.PopInGlobal=window.PopInGlobal||{};av.addEventListenerFromEventMap(m.customEvents);av.addEventListenerFromEventMap(window.PopInGlobal.customEvents)}function u(ax){var aw=[];aw.push('<body style="margin:0px;padding:0px;background-color: transparent;">');aw.push("<script>window.inDapIF = true;<\/script>");aw.push(ax);aw.push("</body>");var av=A("about:self");av.write(aw.join(""))}function ao(aA){if(!window.Treasure2){setTimeout(function(){ao.apply(this,arguments)},500);return}var ax=new window.Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:"fe_monitor"});var aw=aq||{};var av=V||{};var aB={msg:aA.message||"",stack:aA.stack||"",name:aA.name||"",ua:navigator.userAgent,api_host:aw.apiHost||"",device:M(),media:aw.media||"",url:aw.target||"",logid:av.logid||"",piuid:S?S.getUid():""};if(I&&I.Uid){aB.uid=I.Uid.getUid()}var az=PopIn6._logger.trackValues||{};for(var ay in az){aB[ay]=az[ay]}ax.addRecord("err_log",aB);throw aA}window.PopIn6.handleError=ao;var an=[];var Y="__popIn_dom_key__";function ar(ay,aw){if(!ay){return{}}var av=+ay[Y];if("number"!==typeof av||av===NaN){return null}var ax=an[av]||null;return"string"===typeof aw?ax[aw]:ax}function H(az,aw,ay){if(!az){return null}var av=az[Y]||"";var ax={};if(av===""){av=an.length;az[Y]=av}else{av=+av;ax=an[av]||{}}if(typeof aw==="string"){ax[aw]=ay}else{if(Object.prototype.toString.call(aw)==="[object Object]"){ax=Object.assign(ax,aw)}}an[av]=ax;return ax}var I={};I.Class=function(ax,aw,ay){var av=this[ax]=function(){if(this.init){this.init.apply(this,arguments)}};av.prototype=aw;if(ay&&Object.prototype.toString.call(ay)==="[object Object]"){Object.assign(av,ay)}};E.Discovery6=I;I.Class("ArticleItem",{init:function(aG,aD){for(var ay in aG){this[ay]=aG[ay]}var aw="";var aC="";var aF=window.PopIn6.protocol;var aB=aD.imageSize;var ax=aD.notFoundImg;var aH="";this.ad=aG.type.indexOf("ad")===0;this.reserved=aG.type.indexOf("reserved")>0;if(this.ad){var av=["api_host="+aq.apiHost,"piuid="+S.getUid()];if(this.url.indexOf("&uid=")===-1){av.push("uid="+I.Uid.getUid())}else{this.url.replace(/&uid=[^&]*/,"&uid="+I.Uid.getUid())}if(w(V.logid)){av.push("logid="+V.logid)}var aA=[];if(w(aD.channelId)){aA.push("m_ch_"+aD.channelId)}if(w(V.channel)&&Array.isArray(V.channel)){aA.push.apply(aA,V.channel.map(function(aI){return"m_"+aI}))}if(aA.length>0){av.push("extra="+aA.join("%7C"))}this.url+=((/\?/.test(this.url)===true)?"&":"?")+av.join("&");aC=aG.image;if(w(aB)&&(""+aB).indexOf("w")===0){aw=aF+"//f.popincdn.com/"+aB+"/";aH=aw+aC}else{aw=aF;aH=aC.indexOf("http://images.popin.cc")>0?aw+aC.replace(/http:\/\/images.popin.cc/,"//i.popincdn.com"):aC;if(aw==="https:"&&aH.indexOf("http://images.popin.cc")>-1){aH=aH.replace(/http:\/\/images.popin.cc/,"https://i.popincdn.com")}}aH=aH.replace(/i.popincdn.com/,"imageaws.popin.cc");this._setTrackingPixelConfig(aG);if(aG.imp){this.originalImp=aG.imp;this.imp=aG.imp+((/\?/.test(aG.imp)===true)?"&":"?")+av.join("&")}if(aG.dsp){var aE=new I.Dsp(aG.dsp);if(aE.setup(this,{addParameters:av,media:aq.media,channelId:aD.channelId,showInfoIcon:aD.showInfoIcon})){this.dspObj=aE}}}else{if(w(aB)&&(""+aB).indexOf("w")===0){aC=aG.image_url||"";aw=aF+"//f.popincdn.com/"+aB+"/";aH=aw+aC}else{if(w(aB)&&(""+aB)==="original"){aC=aG.image_url||"";aH=aC}else{aC=aG.image||"";if(aC==="noimage"||!w(aC)){aC=""}else{aw=aC.indexOf("http")>-1?"":"https://i.popincdn.com/article/";aH=aw+((aB===""||aC.indexOf("http")>-1)?aC:aC.replace(".","_"+aB+"."))}}}aH=aH.replace(/i.popincdn.com/,"imageaws.popin.cc")}this.image=w(aC)?aH:ax;var az=Z(this.url);this.token=az.qString.token;this.uid=az.qString.uid},_formatTrackingPixelMacroCode:function(aB,ay){var aA=aB;var av={"{{p_advid}}":ay.userid,"{{p_campId}}":ay.campaign,"{{p_sid}}":aq.media,"{{p_adid}}":ay.nid};for(var aw in av){var ax=new RegExp(aw,"g"),az=av[aw];aA=aA.replace(ax,az)}return aA},_setTrackingPixelConfig:function(ax){if(w(ax.click_tracking_pixel)){this.click_tracking_pixel=this._formatTrackingPixelMacroCode(ax.click_tracking_pixel,ax)}if(w(ax.tracking_pixel)){this.tracking_pixel=this._formatTrackingPixelMacroCode(ax.tracking_pixel,ax);var av=this._getCustomTrackingPixelConf(this.tracking_pixel);if(av){if(av.name==="ias"){var ay="&ias_adpath=%23",aw=/((https?:)?\/\/\w+\.adsafeprotected.com\/(?!.*ias_adpath.*)([\w-./?%&=]*)?)/g,az,aA;az=ax.campaign+ax.nid+new Date().getTime();aA=btoa(af(az));this.trackingPixelConf={};this.trackingPixelConf.name=av.name;this.trackingPixelConf.trackingNodeId=aA;this.tracking_pixel=this.tracking_pixel.replace(aw,"$1"+ay+aA)}}}},_getCustomTrackingPixelConf:function(az){var ay=[{name:"ias",check_reg:/https?:\/\/\w+.adsafeprotected.com\//}],ax;for(var aw=0,av=ay.length;aw<av;aw++){ax=ay[aw];if(ax.check_reg&&ax.check_reg.test(az)){return ax}}}});I.Class("ArticleRenderer",{init:function(av,ax,aw){this.article=ax;this.articleDiv=av;this.template=aw;this.ad=ax.type.indexOf("ad")===0;this.render(w(aw.channelId)?aw.channelId:false)},render:function(az){var aL=this.article,av=this.articleDiv,aJ=this.template;av.classList.add("_popIn_recommend_article_"+aL.type);if(aJ.isFullClick){av.setAttribute("href",aL.url)}if(aL.type2.indexOf("_noimg")>-1){av.classList.add("_popIn_recommend_no_img")}else{av.classList.add("_popIn_recommend_has_img")}if(aL.trackingPixelConf&&aL.trackingPixelConf.trackingNodeId){av.id=aL.trackingPixelConf.trackingNodeId}var aH=W(av,"div","_popIn_recommend_art_img");if(aL.dspObj){this._addDspInfoIcon(aH,aL)}var ay=W(aH,"a");ay.href=aL.url;ay.style.opacity=1;var aI=function(){ay.style.backgroundImage="url("+aL.image+")"};if(aJ.imageInView){i(ay,aI)}else{aI()}var aw=W(av,"div","_popIn_recommend_art_title");var aG=W(aw,"a",false,aL.title);aG.href=aL.url;var aC=W(av,"div","_popIn_recommend_art_category",aL.category);if(aL.media){var aE=W(av,"div","_popIn_recommend_art_media",aJ.mediaFormat.replace("$MEDIA",aL.media))}var aF=W(av,"div","_popIn_recommend_art_date",aL.formattedDate);if(aL.author_name){var aB=W(av,"div","_popIn_recommend_art_author",aL.author_name)}var ax=Array.apply(null,av.querySelectorAll("a")),aK=(aJ.isTargetTop===true)?"_top":(aJ.addTargetBlank===true)?"_blank":null;if(av.nodeName==="A"){ax.push(av)}for(var aA=0,aD=ax.length;aA<aD;aA++){this._editLinkNode(ax[aA],az,aK)}},_editLinkNode:function(av,aw,ax){if(this.ad){if(av.className==="_popIn_recommend_article_ad_info_icon_inner"){av.addEventListener("click",function(ay){ay.stopPropagation()},false);return}this._editAdLinkNode(av,ax)}if(ax!==null){av.target=ax}av.addEventListener("click",this._onClick.bind(this,aw),false)},_editAdLinkNode:function(aw,ax){aw.href=this._replacePopInFlagInAdLink(aw.href);aw.target=(ax===null)?"_blank":ax;aw.setAttribute("rel","nofollow");var av="&mode=20170420&referer_type="+x;if(typeof PopIn6._logger.trackValues!=="undefined"){av+="&td_client_id="+PopIn6._logger.trackValues.td_client_id}aw.href+=av},_replacePopInFlagInAdLink:function(aw){if(aw.indexOf("popIn_flag_")===-1){return aw}var av={"${popIn_flag_media_host}":location.host,"${popIn_flag_os}":D(),"${popIn_flag_timestamp}":T};return aw.replace(/\blp=.+?&/,function(ay){for(var ax in av){ay=ay.replace(new RegExp(encodeURIComponent(ax),"g"),av[ax])}return ay})},_onClick:function(az,ay){var aA=ay.currentTarget;ay.preventDefault();ay.stopPropagation();var aw=this.article,av=(aA.target==="_blank"),ax=aA.href;if(/^ad/.test(aw.type)===true){this._onClickAd(ax,aw,az,av)}else{this._onClickArticle(ax,aw,az,av)}},_writeArticleClickHistory:function(aw){if(ad.valid===false){return}var az="_popIn_article_click_history";var ay=ad.local,ax=ay.get(az),aA=(ax===null)?[]:JSON.parse(ax),av=aA.filter(this._isNotSameHistoryURL.bind(this,aw));av.push({url:aw,timestamp:Date.now()});ay.set(az,JSON.stringify(av))},_isNotSameHistoryURL:function(av,aw){return(aw.url!==av)},_onClickArticle:function(ax,aw,az,av){var ay=aw.type;ad.valid&&ad.session.set("_pi_article_recommend_type",ay);this._writeArticleClickHistory(ax);var aA;if(av){this._openNewTab(ax)}else{aA=this._movePage.bind(null,ax)}I.Log.articleClickLog(aw,aA,{channelId:az});if(typeof aA==="function"){setTimeout(aA,200)}},_onClickAd:function(ax,aw,ay,av){I.Log.adClickLog(aw,{channelId:ay});if(w(aw.click_tracking_pixel)){u(aw.click_tracking_pixel)}if(aw.dspObj){aw.dspObj.execDspFunc("click",aw)}if(av){this._openNewTab(ax)}else{this._movePage(ax)}},_movePage:function(av){window.top.location.href=av},_openNewTab:function(av){window.open(av,"_blank")},_addDspInfoIcon:function(aw,av){av.dspObj.execDspFunc("setIcon",aw)}});I.Class("ArticleStyleMonitor",{styleFlagEnum:{UNKNOW:"0",ERROR:"_",STYLE_1:"1",STYLE_2:"2",STYLE_3:"3",STYLE_4:"4",STYLE_5:"5",STYLE_6:"6"},checkList:["checkStyle1","checkStyle2","checkStyle3","checkStyle4","checkStyle5","checkStyle6"],init:function(av){this.articleNode=av;this.styleFlag=""},initAttribute:function(){this.articleRect=this.articleNode.getBoundingClientRect();this.parentNode=this.articleNode.parentNode;this.parentRect=this.parentNode.getBoundingClientRect();this.imageNode=this.articleNode.querySelector("._popIn_recommend_art_img");this.imageRect=this.imageNode.getBoundingClientRect();var av=this.articleNode.querySelector("._popIn_recommend_art_title");this.titleNode=av.children[0]||av;this.titleRect=this.titleNode.getBoundingClientRect()},getStyleFlag:function(){try{if(this.styleFlag){return this.styleFlag}this.initAttribute();var av;for(var ax=0,aw;aw=this.checkList[ax++];){if("function"!==typeof this[aw]){continue}av=this[aw]();if(av){return(this.styleFlag=av)}}}catch(ay){return(this.styleFlag=this.styleFlagEnum.ERROR)}return(this.styleFlag=this.styleFlagEnum.UNKNOW)},checkStyle1:function(){if(this.imageRect.width===0&&this.imageRect.height===0){return this.styleFlagEnum.STYLE_1}},checkStyle2:function(){if(this.titleRect.top>=this.imageRect.bottom&&(this.articleRect.width/this.parentRect.width)>=0.9){return this.styleFlagEnum.STYLE_2}},checkStyle3:function(){if(this.titleRect.top>=this.imageRect.bottom){return this.styleFlagEnum.STYLE_3}},checkStyle4:function(){if(this.imageRect.right<=this.titleRect.left){return this.styleFlagEnum.STYLE_4}},checkStyle5:function(){if(this.titleRect.right<=this.imageRect.left){return this.styleFlagEnum.STYLE_5}},checkStyle6:function(){if(this.titleRect.top>this.imageRect.top&&this.titleRect.right>this.imageRect.left&&this.titleRect.bottom<=this.imageRect.bottom&&this.titleRect.left<this.imageRect.right){return this.styleFlagEnum.STYLE_6}}});var aj=[];I.Class("ArticlesSelector",{init:function(aw){this.template=aw;this.type=aw.type;this.useCf=false;this.includeRules=[].concat(aw.includeRules);this.excludeRules=[].concat(aw.excludeRules);if(aw.isClickHistory){this.processCookie(V.cookie)}if(aw.hideHistory===true){var av=ad.local.get("_popIn_article_click_history");this._articleClickHistories=av===null?[]:JSON.parse(av);this._articleExpiredTime=Date.now()-(aw.articleNoDisplayPeriod*(24*60*60*1000));this.excludeRules.push(this._canShowArticle.bind(this))}},_canShowArticle:function(av){if(/^ad/.test(av.type)===true){return true}return this._articleClickHistories.every(this._isValidPeriodArticle.bind(this,av.url,this._articleExpiredTime))},_isValidPeriodArticle:function(aw,av,ax){return(this._isInvalidPeriodArticle(aw,av,ax)===false)},_isInvalidPeriodArticle:function(aw,av,ax){return(ax.url===aw)&&(ax.timestamp>=av)},getData:function(){this.isCfRatio();var av=this.process(this.type);var aw=this.template.infiniteSize*this.template.infinitePages;return w(av)?av.slice(0,Math.min(aw,av.length)):[]},isCfRatio:function(){var aA=this.template.useCfRatio||m.useCfRatio;if(!aA){return}var av=ad.valid&&ad.session.get("_pi_cf_abtest_key_"+this.template.channelId);if(av){this.useCf="with_cf"===av?true:false}else{if(Math.random()<=+aA){ad.session.set("_pi_cf_abtest_key_"+this.template.channelId,"with_cf");this.useCf=true}else{ad.session.set("_pi_cf_abtest_key_"+this.template.channelId,"without_cf")}}if(this.useCf){var az=this.type;var aC=false;for(var ay=0,ax=az.length;ay<ax;ay++){var aw=az[ay];var aB="";if(typeof aw=="string"){aB="+"+aw+"+"}if(Array.isArray(aw)){aB="+"+aw.join("+")+"+"}if(/\+cf\+/.test(aB)){aC=true;break}}if(!aC){this.type.splice(1,0,["left","cf",50])}}},deleteDuplicates:function(az){var ax={};var aw=[];function av(aE){for(var aC=0;aC<aE.length;aC++){var aD=aC+"_"+aE[aC];if(ax[aD]){return false}else{ax[aD]=1}}return true}aj.forEach(av);for(var ay=0;ay<az.length;ay++){var aB=az[ay];var aA=av(aB.hashData);if(aA){aw.push(aB)}}return aw},processArticle:function(aw,av){var ax=av.indexOf("ad")>-1;if(w(aw.title)&&w(this.template.delWord)&&!ax){aw.title=aw.title.replace(new RegExp(this.template.delWord,"g"),"")}if(w(aw.title)){aw.title=aw.title.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&")}if(!w(aw.title)){return false}if(aw.url===aq.target){return false}if(aw.pureUrl===void 0){aw.pureUrl=aw.url}if(!ax){aw.url=w(this.template.displayUrlReplace)?F(aw.url,this.template.displayUrlReplace):aw.url;aw.url+=(w(this.template.addQuery)?(((/[?]/.test(aw.url))?"&":"?")+this.template.addQuery):"")}aw.originalUrl=aw.url.indexOf("?url=")>0?decodeURIComponent(Z(aw.url).qString.url):aw.url;if((this.template.delImage&&aw.image.indexOf(this.template.delImage)>=0)||(aw.image==="noimage")){aw.image=""}aw.type=av;aw.type2=av+(aw.image?"_img":"_noimg");aw.hashData=[af(aw.title),af(aw.originalUrl)];aw.formattedDate=(w(aw.pubdate)&&aw.pubdate!=="000000000000000000")?this.formatDate(aw.pubdate):"";if(!this.isValid(aw)){return false}return aw},formatDate:function(aw){var av=this.template.dateFormat;if(aw.slice(8,12)==="0000"&&/h|m|s/.test(av)){av=av.replace(/h|m|s|:|：|\s|時|分|秒/g,"")}var ax={Y:[0,4],M:[4,6],D:[6,8],h:[8,10],m:[10,12],s:[12,14]};Object.keys(ax).forEach(function(az){var ay=Number(String.prototype.slice.apply(aw,ax[az]));if(/m|s/.test(az)&&ay<10){ay="0"+ay}av=av.replace(new RegExp(az),ay)});return av},isValid:function(ay){for(var ax=0,aB=this.excludeRules.length;ax<aB;ax++){var aA=this.excludeRules[ax];if(!aA(ay)){return false}}for(var aw=0,av=this.includeRules.length;aw<av;aw++){var az=this.includeRules[aw];if(az(ay)){return true}}return true},getArticlesByType:function(ay){var ax=V[ay];var av=[];for(var aw=0;aw<ax.length;aw++){var aA=Object.assign({},ax[aw]);var az=this.processArticle(aA,ay);if(az){av.push(az)}}return av},process:function(av){if(typeof av==="string"&&V[av]){return this.template.forceProcess?this.deleteDuplicatesDsp(this.getArticlesByType(av)):this.deleteDuplicates(this.getArticlesByType(av))}if(Array.isArray(av)){var aw=av[0];if(typeof this[aw]==="function"){return this.template.forceProcess?this.deleteDuplicatesDsp(this[aw](av)):this.deleteDuplicates(this[aw](av))}}return[]},getMiddle:function(ax){var aw=[];for(var av=1;av<ax.length-1;av++){aw=aw.concat(this.process(ax[av]))}return aw},rand:function(ax){var av=ax[ax.length-1];var aw=ae(this.getMiddle(ax));return aw.slice(0,Math.min(av,aw.length))},left:function(ax){var av=ax[ax.length-1];var aw=this.getMiddle(ax);return aw.slice(0,Math.min(av,aw.length))},right:function(ax){var av=ax[ax.length-1];var aw=this.getMiddle(ax);return aw.slice(Math.max(0,aw.length-av),aw.length).reverse()},_expectedAdTotal:0,pattern:function(aw){var aA=aw[aw.length-1];var ax=this.getMiddle(aw);var aN=[];var aM=[].concat(ax);var az=true;var aK=this.template.infiniteSize*this.template.infinitePages;var aB=0;while(az){az=false;var ay=aA;while(typeof ay==="function"){ay=ay()}if(ay.length>0&&this.useCf){for(var aJ=0,aD=ay.length;aJ<aD;aJ++){var aG=ay[aJ];if(Array.isArray(aG)){if(aG[0]=="ad"||/^ad_/.test(aG[0])){ay[aJ].splice(1,0,"cf_img")}else{if(aG[0]!="cf_img"){ay[aJ].splice(0,0,"cf_img")}}}else{if(aG=="ad"||/^ad_/.test(aG)){ay.splice(aJ,1,[aG,"cf_img"])}else{if(aG!="cf_img"){ay.splice(aJ,1,["cf_img",aG])}}}}}for(var aJ=0,av=ay.length;aJ<av;aJ++){var aF=ay[aJ];aF=Array.isArray(aF)?aF:[aF];loop:for(var aI=0,aE=aF.length;aI<aE;aI++){var aC=aF[aI];if(aI===0&&aB<aK&&(aC==="ad"||aC==="ad_imp")){this._expectedAdTotal++}for(var aH=0,aL=aM.length;aH<aL;aH++){var aO=aM[aH];if(aO.type2.search(aC)>-1){az=true;aN.push(aO);aM.splice(aH,1);aB++;break loop}}}}}return aN},processCookie:function(aw){var ay=aw._click;if(!w(ay)){return}var ax={};var az=ay.split("|");var av=Date.now();az.forEach(function(aA){var aB=aA.split(".");var aD=aB[1];var aC=(av-aB[2])/(24*60*60*1000);if(aC>30){return}if(typeof ax[aD]==="undefined"){ax[aD]=0}ax[aD]++});this.addExcludeRuleForAd(ax)},addExcludeRuleForAd:function(av){this.excludeRules.push(function(aw){var ay=aw.type.indexOf("ad")>-1;if((ay&&!aw.dsp)&w(av[aw.nid])){var ax=av[aw.nid];if(ax>=3){return false}}return true})},deleteDuplicatesDsp:function(az){var ax={};var aw=[];function av(aD){for(var aB=0;aB<aD.length;aB++){var aC=aB+"_"+aD[aB];if(ax[aC]){return false}else{ax[aC]=1}}return true}aj.forEach(av);for(var ay=0;ay<az.length;ay++){var aA=az[ay];if(aA.type==="ad"&&aA.dsp){if(!av(aA.hashData)){continue}}aw.push(aA)}return aw}});I.Class("Box",{init:function(aK){var aF=this;this.timeoutId=false;this._canSendChannelImpLog=true;if(!aK.selector&&!(aK.selector=document.querySelector(aK.selectorStr))){if(aF.timeoutId){clearTimeout(aF.timeoutId)}aF.timeoutId=setTimeout(function(){aF.init(aK)},200);return}var ay=new I.ArticlesSelector(aK);var aE=ay.getData();var aD=ay._expectedAdTotal;if(aE.length>0){var aG=aE.length%aK.infiniteSize;if(aG!==0){aE=aE.slice(0,aE.length-aG)}aE.forEach(function(aL){aj.push(aL.hashData)});this.data=aE}if(aE.length<aK.infiniteSize){return}var aI=false;for(var aB=0,aH=aE.length;aB<aH;aB++){var aA=aE[aB];if(aA.type=="cf"){aI=true;break}}this.template=aK;var ax=aK.cfChannelPrefix||m.cfChannelPrefix||"";var az=w(aK.channelId)?aK.channelId:false;if(aI&&az&&az.indexOf("with_sz_")!==0){az=ax+az}this.channelId=az;aK.channelId=az;if(aq.adEnable){I.Log.adRequestLog()}I.Log.previewLog();I.Log.concatenationPVLog();this.renderBox();I.Performance.addTimeMark("box_did_render").addMark("is_box_rendered",true).report();i(this.container,function(){I.Log.boxInViewLog({channelId:az,isFeedModule:aK.isFeedModule});if(az){I.Log.boxInViewLogs({channelId:az,isFeedModule:aK.isFeedModule,boxPosition:this.boxPosition.getPosition()});I.Log.intextBoxInViewLog({channelId:az})}}.bind(this));if(az){I.Log.intextBoxRenderedLog({channelId:az,isFeedModule:aK.isFeedModule,expectedAdTotal:aD,renderedAdTotal:this.AdTotalWithoutAdReserved})}if(w(V.common_category)){(function aw(aL,aN){try{if(aN<0){return}var aM=PopIn5.$.Context.findContext(aL);aM.segmentData.commonCategory=V.common_category;aM.segmentData.mainCategory=encodeURIComponent(V.category)}catch(aO){setTimeout(function(){aw(aL,--aN)},200)}})(this.container,20)}if(PopIn6.infinite.isEnable&&!PopIn6.infinite.isStart){PopIn6.infinite.isStart=true;PopIn6.event.fireEvent("infinite-loading",[])}var av=0;var aJ=function(){if(typeof PopIn5!=="undefined"&&w(PopIn5.$)&&w(PopIn5.$.Config)){PopIn5.$.Config.apiHost=aq.apiHost;clearInterval(aC)}if(av>10){clearInterval(aC)}av++};var aC=setInterval(aJ,500)},renderBox:function(){var aF=W(this.template.selector,"div","_popIn_recommend_container");if(w(this.template.containerId)){aF.setAttribute("id",this.template.containerId)}this.container=aF;this.boxPosition=new I.BoxPosition(this.container);this.adPosition=0;this.AdTotalWithoutAdReserved=0;var aJ=W(aF,"div","_popIn_recommend_header",this.template.title);var aB=W(aF,"div","_popIn_recommend_articles");this.boxStyleMonitor=new I.BoxStyleMonitor(aF);var aw=this.data;var ax=aB;var aO=this.template.infiniteSize;var aH=this.template.infinitePages;var aA=this.template.channelId;var aD=this.template.isFeedModule;var ay=ad.valid?ad.session.get("_pi_article_recommend_type"):"";for(var aK=0,aM=aw.length;aK<aM;aK++){var aN=Math.floor(aK/aO);var az=aK%aO;if(aN>=aH){break}if(az===0){ax=W(aB,"div","_popIn_infinite_page")}var aE=new I.ArticleItem(aw[aK],this.template);aE.renderPosition=aK+1;aE.channelId=aA;aE.isFeedModule=aD;aE.referrerRecommendType=ay||"";var av=this.template.isFullClick?"a":"div";var aL=W(ax,av,"_popIn_recommend_article _popIn_idx"+(az+1));var aI=new I.ArticleRenderer(aL,aE,this.template);var aG=new I.ArticleStyleMonitor(aL);aE.element=aL;aE.articleStyleMonitor=aG;var aC=null;if(aI.ad===true){aC=this._onImpForAd;if(this.adPosition===0){this.positionAndStyle=new I.PositionAndStyle({channelId:aA,boxPosition:this.boxPosition,articleStyleMonitor:aG})}}else{aC=this._onImpForArticle}aE.adPosition=(aI.ad===true)?++this.adPosition:undefined;if(aE.type==="ad"){this.AdTotalWithoutAdReserved++}aE.boxStyleMonitor=this.boxStyleMonitor;H(aL,Object.assign({},aE));if(aE.trackingPixelConf&&aE.trackingPixelConf.trackingNodeId){u(aE.tracking_pixel);aE.tracking_pixel=undefined}i(aL,aC.bind(this,aE))}new I.BoxFooter(aF,this.template);if(typeof this.template.afterRender==="function"){this.template.afterRender(this)}PopIn6.event.fireEvent("after-render",this);new I.Video(aF,this.template);if(this.template.canInfiniteAds){new I.InfiniteAds(aF,this.template)}},_onImpForArticle:function(av){var aw=this.channelId;I.Log.articleInViewLog(av,{channelId:aw});PopIn6.event.fireEvent("article-imp",av)},_onImpForAd:function(av){I.Log.adBoxRenderedLog(av);var aw=this.channelId;if(aw){I.Log.adBoxRenderedLogs(av,{channelId:aw})}if(aw&&(this._canSendChannelImpLog===true)){I.Log.intextBoxImpLog({channelId:aw});this._canSendChannelImpLog=false}PopIn6.event.fireEvent("article-imp",av);if(w(av.debug)){return}var ax=Math.round((Date.now()-T)/1000);if(ax>60*30){return}setTimeout(function(){if(av.imp){var ay=new Image();ay.src=av.imp}I.Log.adInViewLog(av,{channelId:aw,boxPosition:this.boxPosition.getPosition()});if(av.dspObj){av.dspObj.execDspFunc("imp",av)}}.bind(this),1000)}});I.Class("BoxFooter",{init:function(av,aw){this.template=aw;if(aw.credit){var ax=W(av,((this.template.aboutPageType==="sameTab")?"a":"div"),"_popIn_recommend_credit",aw.credit);W(ax,"div","_popIn_recommend_credit_image");ax.addEventListener("click",this._onClick.bind(this))}},_onClick:function(){switch(this.template.aboutPageType){case"dialogue":this.showCredit();break;case"newTab":window.open("https://www.popin.cc/discovery/what-is.php");break}},close:function(){if(w(this.black)){document.body.removeChild(this.black);this.black=false}},showCredit:function(){var av=this;var az=function(){av.close()};var aA=W(document.body,"div");aA.id="_popIn_about_black";(function(aB){aB.position="fixed";aB.width="100%";aB.height="100%";aB.left="0px";aB.top="0px";aB.backgroundColor="rgba(0, 0, 0, 0.75)";aB.zIndex=9998})(aA.style);this.black=aA;aA.addEventListener("click",az);var ax=W(aA,"div");ax.id="_popIn_about_inner";(function(aB){aB.position="absolute";aB.width="500px";aB.height="450px";aB.left="50%";aB.top="50%";aB.marginLeft="-250px";aB.marginTop="-225px";aB.backgroundColor="white";aB.borderRadius="6px";aB.zIndex=9999})(ax.style);var aw=W(ax,"div");(function(aB){aB.position="absolute";aB.top="-18px";aB.left="-18px";aB.background="url(https://"+aa+"/images/close.png) no-repeat";aB.width="36px";aB.height="36px";aB.cursor="pointer"})(aw.style);aw.addEventListener("click",az);var ay=W(ax,"iframe");ay.src="https://www.popin.cc/discovery/what-is.php";ay.frameBorder="0";ay.scrolling="no";(function(aB){aB.width="480px";aB.height="430px";aB.border="0px";aB.margin="10px 0px 0px 10px"})(ay.style)}});I.Class("BoxPosition",{init:function(av){this.box=av;this.position=""},getPosition:function(){if(this.position){return this.position}if(window.self!==window.top){this.position="iframe"}else{this.position=M()==="mobile"?this.getPositionInMobile():this.getPositionInPc()}return this.position},getElementAbPosition:function(ax){var aw=ax.offsetLeft;var av=ax.offsetTop;while(ax=ax.offsetParent){aw+=ax.offsetLeft;av+=ax.offsetTop}return{left:aw,top:av}},getPositionInMobile:function(){var av=this.box.getBoundingClientRect();var aw=this.getElementAbPosition(this.box);var ay=aw.top+av.height/2;var ax=document.documentElement.scrollHeight;if(!ax||!ay){return"unknow"}else{if(ay<(ax/3)){return"top"}else{if(ay<(ax/3*2)){return"middle"}else{return"bottom"}}}},getPositionInPc:function(){var aw=this.box.getBoundingClientRect();var ay=this.getElementAbPosition(this.box);var aA=ay.top+aw.height/2;var ax=ay.left+aw.width/2;var az=document.documentElement.scrollHeight;var av=document.documentElement.scrollWidth;if(!az||!av||!aA){return"unknow"}return[(aA<(az/2))?"top":"bottom",(ax<(av/2))?"left":"right"].join("_")}});I.Class("BoxStyleMonitor",{init:function(av){this.boxNode=av;this.styleFlag=""},getStyleFlag:function(){if(this.styleFlag){return this.styleFlag}var ay=this.boxNode.querySelectorAll("._popIn_infinite_page:first-child ._popIn_recommend_article");var ax="";for(var aw=0,av;av=ay[aw];aw++){var az=ar(av,"articleStyleMonitor");if(!az){ax+="_";continue}ax+=az.getStyleFlag()}return(this.styleFlag=ax)}});I.Class("BrandSafety",{init:function(){this.impIdArry=[]},process:function(aw,av){av=av||{};if(!av.logid){return false}this.logid=av.logid||"";this.media=av.media||location.host;this.apiHost=av.apihost||"jp.popiin.cc";this.impIdArry[this.logid]=(typeof this.impIdArry[this.logid]!=="undefined")?this.impIdArry[this.logid]+1:1;this._momentumTagRender(aw)},_momentumTagRender:function(ax){var aA="jp.popin.cc";if(aA!==this.apiHost){return}var aB=38,aw="UUID_DIV",aC=this.logid,av=this.impIdArry[this.logid],ay=this.media,aD=document.createElement("script");aD.src="//assets-momentum.akamaized.net/js/axss.js";ax.classList.add(aw);var az=function(){momentum_heron.set_postbid_observer(aw,aB,aC,String(av),ay,{dest:"http://jp.popin.cc/popin_discovery/pbc",payload:{ext:{momentum:{heron:{require:[1,2,4]}}}}})};if(typeof aD.onload!=="undefined"){aD.onload=az}else{if(aD.readyState){aD.onreadystatechange=az}}document.body.appendChild(aD)}});I.Class("Config",{init:function(az){az=az||{};this.setDefaults(az);var aw=this.findConfig(r);if(!aw){return}for(var ay in aw){this[ay]=aw[ay]}for(var av in m){this[av]=m[av]}var ax=[];if(w(aw.templates)){aw.templates.forEach(function(aA){ax.push(new I.Template(aA))})}this.templates=ax;this.positionAndStyleObj=I.PositionAndStyle.getPositionAndStyle();this.afterConfig()},setDefaults:function(av){this.device=(M()!=="mobile")?"pc":"mobile";this.target=typeof av!=="undefined"?av.target||location.href:location.href;this.media=location.host;this.agency="popinag";this.topn=50;this.pathnum=null;this.ad=10;this.country=false;this.apiUrl="https://discoveryplus.popin.cc/popin_discovery/recommend?";this.isArticle=true;this.segmentData={};this.apiUrlAdd=""},afterConfig:function(){var av=this;this.target=F(this.target,this.urlReplace);var ay=[];ay.push("device="+this.device);ay.push("media="+this.media);ay.push("extra="+D().toLowerCase());ay.push("agency="+this.agency);ay.push("topn="+this.topn);var aw=[[w(this.cfid),"cfid="+this.cfid],[w(this.adEnable),"ad="+this.ad],[w(this.pathnum),"pathnum="+this.pathnum],[w(this.apiUrlAdd),this.apiUrlAdd.replace(/^&/,"")],[!w(this.isArticle),"related=false"],[true,"piuid="+S.getUid()],[true,"uid="+I.Uid.getUid()],[w(PopIn6.smjId),"smjid="+PopIn6.smjId]];aw.forEach(function(az){if(az[0]){ay.push(az[1])}});if(this.apiUrl.indexOf("http:")===0){this.apiUrl=this.apiUrl.replace("http:","https:")}this.apiUrl=this.apiUrl.replace("%target",encodeURIComponent(this.target)+"&");if(this.apiUrl.indexOf("url=")===-1){ay.push("url="+encodeURIComponent(this.target))}this.apiUrl+=(this.apiUrl.indexOf("?")>-1?(this.apiUrl.slice(-1)!=="?"?"&":""):"?")+ay.join("&");var ax=location.href.match(/popincampaign=([^&]+)/);if(ax){this.apiUrl+="&popindemo="+ax[1]}this.apiUrl+="&info="+this.createInfoData();this.apiHost=ac(this.apiUrl).host.replace("discoveryplus.","jp.");this.setSzAdLtrByBatch()},createInfoData:function(){var aw=this.getUserTdInfo();aw.user_device=this.device;aw.user_time=T;aw.fruit_box_position=this.positionAndStyleObj.boxPosition;aw.fruit_style=this.positionAndStyleObj.adStyleMonitor;var av=location.href.match(/popin_sid_sample=([^&]+)/);if(av){aw.sid_sample=av[1]}PopIn6.event.fireEvent("after-create-info-data",aw);return btoa(unescape(encodeURIComponent(JSON.stringify(aw))))},findConfig:function(ay){var ax=(M()!=="mobile")?"pc":"mobile";var aw=w(N)?[ax+"-test",ax,"all-test","all"]:[ax,"all"];for(var av=0;av<aw.length;av++){var az=aw[av];if(ay[az]&&ay[az].Discovery){return ay[az].Discovery}}return false},getUserTdInfo:function(){if(!this.userTdData){var ax=at;var aw={};for(var av in ax){aw["user_td_"+av]=av=="title"?encodeURIComponent(ax[av]):ax[av]}this.userTdData=aw}return this.userTdData},sortModuleByDom:function(aD){var az=[];var av=[];var ax=[];for(var ay=0,aC=aD.length;ay<aC;ay++){if(!aD[ay].selector){av.push(aD[ay]);continue}az.push(aD[ay]);if(aD[ay].selectorStr){ax.push(aD[ay].selectorStr)}}var aw=document.querySelectorAll(ax.join(","));var aA=Array.prototype.slice.call(aw,0);for(var ay=0,aC=az.length-1;ay<aC;ay++){var aB=az[ay];for(j=0,jl=az.length-1-ay;j<jl;j++){if(aA.indexOf(az[j].selector)>aA.indexOf(az[j+1].selector)){var aE=az[j];az[j]=az[j+1];az[j+1]=aE}}}return az.concat(av)},setSzAdLtrByBatch:function(){if((this.apiHost!=="tw.popin.cc"&&this.apiHost!=="jp.popin.cc")||"ignore"===this.useForSzAdLtrRatio||this.apiUrl.indexOf("&alg=ltr")!==-1||this.apiUrlAdd.indexOf("&alg=ltr")!==-1){return}if(typeof this.useForSzAdLtrRatio==="number"){if(Math.random()<=this.useForSzAdLtrRatio){this.apiUrl=this.apiUrl+"&alg=ltr";this.appenedAdLtrPrefix()}}else{this.apiUrl=this.apiUrl+"&alg=ltr"}},appenedAdLtrPrefix:function(){var ax=this.useSzAdLtrChannelIdPrefix===undefined?"":this.useSzAdLtrChannelIdPrefix;for(var av=0;av<this.templates.length;av++){var aw=this.templates[av];if(aw.channelId&&aw.channelId.indexOf("with_sz_")!==0){aw.channelId=ax+aw.channelId}}}});(function(aw,av){function az(){var aA={};for(var aD=0;aD<arguments.length;aD++){var aB=arguments[aD];for(var aC in aB){aA[aC]=aB[aC]}}return aA}function ax(aA){return aA.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)}function ay(aC){function aD(aG,aI,aE){if(typeof document==="undefined"){return}aE=az(aB.defaults,aE);if(typeof aE.expires==="number"){aE.expires=new Date(Date.now()+aE.expires*86400000)}if(aE.expires){aE.expires=aE.expires.toUTCString()}aI=aC.write?aC.write(aI,aG):encodeURIComponent(String(aI)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);aG=encodeURIComponent(String(aG)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var aH="";for(var aF in aE){if(!aE[aF]){continue}aH+="; "+aF;if(aE[aF]===true){continue}aH+="="+aE[aF].split(";")[0]}return(document.cookie=aG+"="+aI+aH)}function aA(aH){if(typeof document==="undefined"||(arguments.length&&!aH)){return}var aI=document.cookie?document.cookie.split("; "):[];var aJ={};for(var aG=0;aG<aI.length;aG++){var aL=aI[aG].split("=");var aF=aL.slice(1).join("=");if(aF.charAt(0)==='"'){aF=aF.slice(1,-1)}try{var aE=ax(aL[0]);aJ[aE]=(aC.read||aC)(aF,aE)||ax(aF);if(aH===aE){break}}catch(aK){}}return aH?aJ[aH]:aJ}var aB={defaults:{path:"/"},set:aD,get:aA,remove:function(aF,aE){aD(aF,"",az(aE,{expires:-1}))},withConverter:ay};return aB}aw.Class("Cookie",{},ay(function(){}))})(I,window);I.Class("Criteo",{init:function(av,aw){this.createProxy(av,aw);this.aspectArticleRendererAd();this.aspectDiscoveryLog()},createProxy:function(ay,aA){var aC=function(){aA(ay)};var ax=aq.criteoZoneId||"1097335";var aw=aq.criteoCampaignId||"5a1407ff211463e92a72d121";var az=aq.criteoNId||"5a140913211463152b72d121";var aB=window.PopIn6.protocol+"//cas.criteo.com/delivery/0.1/napi.jsonp?zoneid="+ax;var av=this;G(aB,function(aD){if(w(aD)&&aD.response_status===0||N){return av.setArticleFromProduct(ay,aD,aA,ax,aw,az)}aC()})},setArticleFromProduct:function(aG,aA,ay,ax,aD,av){if(N&&aA.response_status!==0){aA={};aA.products=[{title:"Red shoes",description:"Male running shoes",price:"$ 120",click_url:"http://cat.criteo.com/delivery/ck.php",image:{url:"http://images.popin.cc/discovery/667d8c9b2cdfec7b74b19c8d8f9355f7.png",width:160,height:160}},{title:"Blue shoes",description:"Male running shoes.",price:"$ 120",click_url:"http://cat.criteo.com/delivery/ck.php?debug=true",image:{url:"http://images.popin.cc/discovery/667d8c9b2cdfec7b74b19c8d8f9355f7.png",width:160,height:160}}];aA.privacy={optout_click_url:"http://info.criteo.com/pac/privacy/informations",optout_image_url:"http://static.criteo.net/flash/icon/nai_small.png"};aA.advertiser={logo:{url:"http://images.eu.criteo.net/img/img?c=1&l=1&h=70&w=70",width:70,height:70},logo_click_url:"http://cat.criteo.com/delivery/ck.php",description:"Advertiser",domain:"advertiser.com"};aA.impression_pixels=[{url:"http://cat.criteo.com/delivery/lg.php"},{url:"http://www.advertiser.com/impression.gif"}]}aG.ad_criteo=[];var aw=Math.min(aA.products.length,aG.ad.length);for(var az=0;az<aw;az++){var aE=aA.products[az];var aF={};var aC=aG.ad[az].url;aF.criteo=aA;aF.criteoProduct=aE;aF.title=aE.title;aF.image=aE.image.url;aF.nid=av;aF.campaign=aD;var aB="https://a.popin.cc/popin_redirect/redirect?url={{url}}&nid={{nid}}&campaign={{campaign}}&media={{media}}&device={{device}}&category=criteo&t={{time}}&token={{token}}&uid={{uid}}&nc=1";aB=aB.replace(/{{url}}/,encodeURIComponent(aE.click_url));aB=aB.replace(/{{nid}}/,av);aB=aB.replace(/{{campaign}}/,aD);aB=aB.replace(/{{media}}/,aq.media);aB=aB.replace(/{{device}}/,aq.device);aB=aB.replace(/{{time}}/,Date.now());aB=aB.replace(/{{token}}/,Math.random().toString().replace(/\./,""));aB=aB.replace(/{{uid}}/,aC.match(/uid=(.+)/)[1]);aF.url=aB;aF.userid=aA.advertiser.description;aF.domain=aA.advertiser.domain;aG.ad_criteo.push(aF)}return ay(aG)},aspectArticleRendererAd:function(){var aw=I.ArticleRenderer.prototype;var av=aw.render;aw.render=function(){if(w(this.article.criteo)){this.article.media=this.article.criteo.advertiser.domain}av.apply(this,[])};var ax=aw.addLinkEvent;aw.addLinkEvent=function(){ax.apply(this,[]);if(w(this.article.criteo)){var aB=this.article;var aC=function(aD){if(aD.classList.contains("_popIn_3rdparty")){aD.href=aB.criteo.privacy.optout_click_url;return}};var az=Array.prototype.slice.call(this.articleDiv.querySelectorAll("A"));var aA=this.template;var ay=this.ad;if(aA.isFullClick){if(!ay){az=[this.articleDiv]}else{az.push(this.articleDiv)}}az.forEach(function(aD){aC(aD)})}}},aspectDiscoveryLog:function(){var av=I.Log.adInViewLog;var aw=I.Log.adRequestLog;var ax=function(aB){var az=aB.impression_pixels;if(!w(az)){return}for(var aA=0;aA<az.length;aA++){var ay=az[aA];var aC=new Image();aC.src=ay.url}ax=function(){}};I.Log.adInViewLog=function(az){var ay=w(az.criteo)?{common_category:"criteo"}:{};if(w(az.criteo)){av.apply(this,[az,ay]);I.Log.adCriteoInViewLog(az,ay);ax(az.criteo)}else{av.apply(this,[az,ay])}};I.Log.adRequestLog=function(){aw.apply(this,[]);I.Log.adCriteoRequestLog()}}});I.Class("CSSManager",{init:function(){this.cache=[];this.css=""},add:function(aw){var ax=af(aw);var av=this.cache.some(function(ay){return ax===ay});if(!av){this.css+=aw;this.cache.push(ax)}},render:function(){var av=document.createElement("style");av.type="text/css";av.rel="stylesheet";av.charSet="UTF-8";document.getElementsByTagName("head")[0].appendChild(av);av.appendChild(document.createTextNode(this.css))}});I.Class("Dsp",{init:function(av){this._dspName=av||"";this._dspObj={}},setup:function(aw,ax){var av="Dsp"+this._dspName.charAt(0).toUpperCase()+this._dspName.slice(1);if(I[av]){this._dspObj=new I[av](aw,ax)}else{return false}return true},execDspFunc:function(ay,av){var aw="_"+ay;if(this._dspObj[aw]){this._dspObj[aw](av)}else{var ax="default"+aw;if(this[ax]&&typeof this[ax]==="function"){this[ax](av)}}},default_setIcon:function(ax){var aw="//api.popin.cc/images/info-icon.png",ay="//www.popin.cc/home/privacy.html",av=document.createElement("div"),az=document.createElement("a");av.className="_popIn_recommend_article_ad_info_icon";av.style.backgroundImage="url("+aw+")",az.className="_popIn_recommend_article_ad_info_icon_inner";az.href=ay,az.target="_blank";av.appendChild(az);ax.appendChild(av);this._addDspIconCss()},_addDspIconCss:function(){var av=new I.CSSManager(),aw=["._popIn_recommend_article_ad_info_icon {","position: absolute;","width: 3vw;","height: 3vw;","background-repead: no-repeat;","background-size: contain;","background-position: center;","}","._popIn_recommend_article_ad_info_icon_inner {","position: relative;","width: 100%;","height: 100%;","}"];av.add(aw.join(""));av.render()}});I.Class("DspLogicad",{init:function(av,aw){this.item=av;this.parameter=aw||{}},_sendImgRequest:function(aw){var av=new Image();av.src=aw},_imp:function(av){if(this.item.nurl){this._sendImgRequest(this.item.nurl)}if(Array.isArray(this.item.imptrackers)){this.item.imptrackers.forEach(function(aw){this._sendImgRequest(aw)},this)}},_click:function(){if(Array.isArray(this.item.clicktrackers)){this.item.clicktrackers.forEach(function(av){this._sendImgRequest(av)},this)}},_setIcon:function(ax){var aw="//api.popin.cc/images/info-icon.png",az=this.item.privacy||"//www.popin.cc/home/privacy.html",av=document.createElement("div"),aA=document.createElement("a"),ay;if(typeof this.parameter.showInfoIcon==="undefined"){ay=(this.parameter.media.indexOf("infeed")>-1)?true:(this.parameter.channelId.indexOf("infeed")>-1)}else{ay=this.parameter.showInfoIcon}if(!ay){return false}av.className="_popIn_recommend_article_ad_info_icon";av.style.backgroundImage="url("+aw+")",aA.className="_popIn_recommend_article_ad_info_icon_inner";aA.href=az,aA.target="_blank";av.appendChild(aA);ax.appendChild(av);this._addDspIconCss()},_addDspIconCss:function(){var av=new I.CSSManager(),aw=["._popIn_recommend_article_ad_info_icon {","position: absolute;","width: 3vw;","height: 3vw;","background-repeat: no-repeat;","background-size: contain;","background-position: center;","}","._popIn_recommend_article_ad_info_icon > ._popIn_recommend_article_ad_info_icon_inner {","position: relative;","width: 100%;","height: 100%;","padding: 0;","display: block;","opacity: 1","}"];av.add(aw.join(""));av.render()},_cookieSync:function(){function aw(){var aA=window.navigator.userAgent.toLowerCase(),aB=function(aC){return -1!=aA.indexOf(aC)};return !((aB("iphone")||aB("ipod")||aB("ipad"))||(window.navigator.vendor&&window.navigator.vendor.toLowerCase().indexOf("apple")!=-1))}var az="https://cr-p34.ladsp.jp/cookiesender/34",ay=0.4,ax=Math.random();if(aw()&&(ax<ay)){var av=new Image();av.src=az}}});I.Class("InfiniteAds",{init:function(av,aw){if(M()!=="mobile"){return}this.container=av;this.template=aw;if(typeof PopIn6.infiniteCounter==="undefined"){PopIn6.infiniteCounter=0}this.ic=w(aq.infiniteSerializeEnable)?PopIn6.infiniteCounter:0;this.slots=this.getSlots();this.ads=this.getAds();if(w(this.slots)&&w(this.ads)){this.renderAds()}},getSlots:function(){var av=this.container.querySelectorAll("._popIn_infinite_page");var ax=[];for(var aw=0,az=av.length;aw<az;aw++){var ay=av[aw];if(w(ay.querySelector("._popIn_infinite_video"))){continue}ax.push(ay)}return ax},getAds:function(){var av=[].concat(w(V.infinite)?V.infinite:[]);return av},renderAds:function(){var av=this.ic;for(var aw=0,az=this.slots.length;aw<az;aw++){var ay=this.slots[aw];var ax=this.ads[av%this.ads.length];if(w(ax)&&ax.type==="ad"){this.renderOneAd(ay,ax)}av++}PopIn6.infiniteCounter=av},renderOneAd:function(aB,aw){var aA=W(document.createDocumentFragment(),"div","_popIn_infinite_ad");aA.style.height=aw.height+"px";var az=(this.template.infiniteAdInsertPosition||"beforeend").toLowerCase();switch(az){case"beforebegin":aB.parentNode.insertBefore(aA,aB);break;case"afterbegin":aB.insertBefore(aA,aB.firstChild);break;case"beforeend":aB.appendChild(aA);break;case"afterend":aB.parentNode.insertBefore(aA,aB.nextSibling);break}var ax=[];ax.push('<body style="margin:0px;padding:0px;background-color: transparent;">');ax.push("<script>window.inDapIF = true;<\/script>");ax.push(aw.script);ax.push("</body>");var av=A("about:self",{pnode:aA});(function(aC){aC.width=aw.width+"px";aC.height=aw.height+"px";aC.margin="0px auto"})(av.element.style);var ay=function(){av.write(ax.join(""))};if(w(aq.adInView)){i(aA,ay)}else{ay()}}});I.Class("Loader",{init:function(){function az(aB){var aF=aB.ad;var aE=aB.ad_smj;if(!aF||aq.isShowSmjAd===false||!Array.isArray(aE)||aE.length===0){return}if(aF.length===0){aB.ad=aE;return}var aG={};var aD=0;var aH=[];var aC;while(aC=aE[aD++]){aG[aC.nid]=1;aC.url+="&smjad=1";aC.isSmjAd=true;aH.push(aC)}aD=0;while(aC=aF[aD++]){if(!aG[aC.nid]){aH.push(aC)}}aB.ad=aH}var aw=function(aC){V=aC;window.popInGlobal=window.popInGlobal||{};window.popInGlobal.common_category=aC.common_category;PopIn6.requestCountry=(function(){if(PopIn6.requestCountry){return}var aJ="jp",aI=/.*country=(\w+).*/,aH=aq.apiUrl;if(aI.test(aH)){aJ=aH.replace(aI,"$1")}return aJ})();if(aC.article_read){window.popInGlobal.articleReadLogForRT={articleId:aC.article_read}}PopIn6.event.fireEvent("result-loaded",[aC]);if(aC&&aC.cookie){I.Uid.setUid(aC.cookie.uid)}if(V.cookie_sync&&V.cookie&&V.cookie.uid){for(var aE in V.cookie_sync){if(V.cookie_sync[aE]===1){var aG=new I.Dsp(aE);if(aG.setup()){aG.execDspFunc("cookieSync")}}}}if(!w(aq.templates)){return}var aB=new I.CSSManager();var aF=aq.templates.filter(function(aH){var aI=aH.type.slice(-1)[0];if(typeof aI==="number"&&aI===0){return false}aB.add(aH.css);return true});aB.render();az(V);var aD=new I.BrandSafety();aF.forEach(function(aH){var aI=new I.Box(aH);if(aI.container){aD.process(aI.container,{logid:V.logid,media:aq.media,apihost:aq.apiHost})}});if(aF.length===0){PopIn6.event.fireEvent("no-content",[])}else{PopIn6.event.fireEvent("start-render",[])}if(aq.isArticle){I.Log.relatedLog();I.Log.snsLog()}PopIn6.event.fireEvent("cehck-update",[V]);return};if(window.context&&(window.context.tagName==="AMP-AD")){this._editTemplatesForAMP(aq.templates);PopIn6.event.addEventListener("start-render",function(){setTimeout(function(){var aD=document.getElementById("_popIn_amp_recommend");var aC=aD.offsetWidth+"px";var aB=aD.offsetHeight+"px";window.context.renderStart({width:aC,height:aB})},1)});PopIn6.event.addEventListener("no-content",function(){window.context.noContentAvailable()});window.context.onResizeDenied(function(aC,aB){setTimeout(function(){window.context.requestResize(aB,aC)},500)})}var ay=function(){I.Performance.addTimeMark("api_will_request");var aE=aq.thirdParty;var aB=false;if(w(aE)){var aC=function(aG,aF,aH){return aG.indexOf("criteo")>-1};aB=aE.some(aC)}if(aB){var aD=aw;aw=function(aF){new I.Criteo(aF,aD)}}PopIn6.event.fireEvent("before-loaded",[aq]);G(aq.apiUrl,function(aF){if(N>0){window._popIn_discovery_test={result:aF,callback:aw};var aH=document.createElement("script");aH.type="text/javascript";aH.charset="UTF-8";aH.async=true;aH.src="https://i.popincdn.com/test/discovery_test6.js";var aG=document.getElementsByTagName("script")[0];aG.parentNode.insertBefore(aH,aG);return}else{I.Performance.addTimeMark("api_data_will_deal");aw(aF)}})};ay();if(w(aq.templates)){var ax=aq.templates.some(function(aB){return w(aB.selectorStr)&&aB.selectorStr==="._popIn_recommend"});PopIn6.infinite={};PopIn6.infinite.isEnable=ax;PopIn6.infinite.isStart=false;if(ax){var aA=[];if(document.querySelector("._popIn_recommend")){aA.push(document.querySelector("._popIn_recommend"))}var av=function(){var aB=function(aK,aH){var aJ=false;for(var aI=0,aL=aH.length;aI<aL;aI++){if(aK===aH[aI]){aJ=true;break}}return aJ};var aC=function(aJ){var aH=aJ.getAttribute("data-url");aq.templates.forEach(function(aK){if(w(aK.selector)&&aK.selectorStr==="._popIn_recommend"){aK.selector=aJ}});aq.setDefaults();var aI=aq.findConfig(r);if(aI){aq.apiUrl=aI.apiUrl}aq.target=aH;aq.afterConfig();ay()};var aD=document.querySelectorAll("._popIn_recommend");for(var aE=0,aG=aD.length;aE<aG;aE++){var aF=aD[aE];if(!aB(aF,aA)){aA.push(aF);aC(aF)}}};PopIn6.event.addEventListener("infinite-loading",function(aB){setInterval(av,500)},false)}}},_editTemplatesForAMP:function(ax){if(!ax){return}var ay;for(var aw=0,av=ax.length;aw<av;aw++){ay=ax[aw];if(typeof ay==="object"){ay.isTargetTop=true;ay.aboutPageType="sameTab"}}}});I.Log={loggers:{},_addLogger:function(av,aw){this.loggers[av]=aw;for(var ax in aw){if(ax.indexOf("_")===0){continue}this._addLogFunction(ax)}},_addLogFunction:function(av){if(w(this[av])){return}this[av]=function(){try{var aw=Array.prototype.slice.call(arguments);PopIn6.log(function(ay){var aA=I.Log.loggers[ay.type];var az=aA[av];if(typeof az==="function"){var aB=[ay].concat(aw);az.apply(aA,aB);ay.execute()}})}catch(ax){console.error(ax)}}}};I.Log._addLogger("basic",{_addSegmentation:function(ay,ax){ax=ax||{};var az=[];var aB=[];var aw=ay.data.length-1;while(aw>=0){if(ay.data[aw].indexOf("r5=")>-1){var av=ay.data.splice(aw,1);aB.push(av[0].split("=")[1])}aw-=1}az.push(["ca",V.category]);var aC=w(ax.common_category)?ax.common_category:V.common_category;if(w(aq.segmentData.abtest)){az.push(["ab",aq.segmentData.abtest])}if(w(ax.useCommonCategory)){az.push(["cc",aC])}if(w(ax.onlyCommonCategory)){az=[["cc",aC]]}if(w(ax.extra)){az=az.concat(ax.extra)}az.forEach(function(aD){if(w(aD[1])){var aE=aD[0];var aF=aD[1];aF=Array.isArray(aF)?aF:[aF];if(aE==="cc"){aF=[aF[0]]}aF.forEach(function(aG){aB.push(aE+"_"+encodeURIComponent(aG))})}});var aA=V.channel;if(aA){if("string"===typeof aA){aA=[aA]}if(Array.isArray(aA)){aA.forEach(function(aD){aB.push(aD)})}}ay.add("r5",aB.join("|"))},relatedLog:function(av){av.mode="other";var aw=/(jp|tw|kr|sg|th).popin.cc/.test(aq.apiUrl)?"related-"+RegExp.$1:"related";av.add("type",aw);av.add("uid",I.Uid.getUid());av.add("url",encodeURIComponent(aq.target));av.uniqueId="related"},snsLog:function(av){av.valid=false;if(Math.random()<1/10){G("https://graph.facebook.com/?ids="+encodeURIComponent(aq.target),function(aw){var az=0;try{for(var ax in aw){az+=aw[ax].share.share_count}}catch(aA){}if(az>=30){av.valid=true}var ay=/(jp|tw|kr|sg|th).popin.cc/.test(aq.apiUrl)?"share-"+RegExp.$1:"share-jp";av.add("url",encodeURIComponent(aq.target));av.add("share",az);av.add("type",ay);av.execute()})}},previewLog:function(av){av.add("url",encodeURIComponent(aq.target));av.add("uid",I.Uid.getUid());av.add("type",aq.device+"_pv");av.add("nid",aq.device);av.add("media",aq.media);av.uniqueId="pv";this._addSegmentation(av)},boxInViewLog:function(av){av.add("url",encodeURIComponent(aq.target));av.add("uid",I.Uid.getUid());av.add("type",aq.device+"_inview");av.add("nid",aq.device);av.add("media",aq.media);av.uniqueId="inview";this._addSegmentation(av)},articleClickLog:function(aw,ay,av,ax){aw.add("url","");aw.add("uid",I.Uid.getUid());aw.add("type",aq.device+"_rclick");aw.add("nid",aq.device);aw.add("media",aq.media);this._addSegmentation(aw,{extra:[["ch",ax.channelId]]});aw.onError=av;aw.onComplete=av},adBoxRenderedLog:function(av,aw){av.add("url",encodeURIComponent(aq.target));av.add("uid",I.Uid.getUid());av.add("type",aq.device+"_imp");av.add("nid","");av.add("media",aq.media);av.uniqueId="imp";this._addSegmentation(av,{onlyCommonCategory:true})},adInViewLog:function(aw,ax,av){if(ax.imp){aw.valid=false}av=av||{};av.common_category=w(av.common_category)?av.common_category:"";aw.trackingPixel=ax.trackingPixel;aw.add("url",encodeURIComponent(aq.target));aw.add("uid",I.Uid.getUid());aw.add("type",aq.device+"_imp");aw.add("nid",ax.nid);aw.add("campaign",ax.campaign);aw.add("media",aq.media);this._addSegmentation(aw,{onlyCommonCategory:true,common_category:av.common_category});aw.add("r6",ax.token);if(w(ax.trackingPixel)){u(ax.trackingPixel)}else{if(w(ax.tracking_pixel)){u(ax.tracking_pixel)}}},intextBoxRenderedLog:function(av,aw){av.add("url",encodeURIComponent(aq.target));av.add("uid","");av.add("type",aq.device+"_channel_pv");av.add("nid",aq.device);av.add("media",aq.media);this._addSegmentation(av,{extra:[["ch",aw.channelId]]})},intextBoxInViewLog:function(av,aw){av.add("url",encodeURIComponent(aq.target));av.add("uid","");av.add("type",aq.device+"_channel_inview");av.add("nid",aq.device);av.add("media",aq.media);this._addSegmentation(av,{extra:[["ch",aw.channelId]]})},intextBoxImpLog:function(av,aw){av.add("url",encodeURIComponent(aq.target));av.add("uid","");av.add("type",aq.device+"_channel_imp");av.add("nid","");av.add("media",aq.media);this._addSegmentation(av,{extra:[["ch",aw.channelId]]})},videoLog:function(av,ax,aw){if(aw=="imp"){av.valid=false}av.add("url",encodeURIComponent(aq.target));av.add("uid",I.Uid.getUid());av.add("type",aq.device+"_video_"+aw);av.add("nid",ax.video.nid);av.add("campaign",ax.video.campaign);av.add("media",aq.media);av.add("r5","cc_video");if((""+aw)==="100"){this._addSegmentation(av,{useCommonCategory:true})}av.add("r6","video_imp")}});I.Log._addLogger("treasure",{_addSegmentation:function(ax,aw){aw=aw||{};var ay=w(aw.common_category)?aw.common_category:V.common_category;if(w(ay)){ax.add("common_category",Array.isArray(ay)?ay[0]:ay)}ax.add("category",V.category);if(w(aq.segmentData.abtest)){ax.add("abtest",aq.segmentData.abtest)}var av=w(aw.extra)?"m_"+aw.extra[0].join("_"):"";ax.add("extra",av)},_setCommon:function(av){av.add("api_host",aq.apiHost);av.add("device",aq.device);av.add("media",aq.media);av.add("url",aq.target);if(w(V.logid)){av.add("logid",V.logid)}if(w(V.rid)){av.add("rid",V.rid)}av.add("popin_user_id",S.getUid());av.add("uid",I.Uid.getUid());var ax=av.getTrackValues();ax.td_title=V.title||"";for(var aw in ax){av.add(aw,ax[aw])}av.add("client_id",ax.td_client_id);av._uainfo=at},adRequestLog:function(av){var ax=aq.apiUrl+"&"+aq.apiUrlAdd;var aw=(ax.match(/[\?&]rid=([^&]+)/)||["",""])[1];var ay=(ax.match(/[\?&]alg=([^&]+)/)||["",""])[1];av.db="popin_ads";av.table="adlogs";av.add("type","req");av.add("rid",aw);av.add("alg",ay);av.add("time_show_seconds",Math.round((Date.now()-T)/1000));av.add("request_ad",aq.ad);av.add("response_ad",V.ad.length);av.add("smjad",(V.ad_smj&&V.ad_smj.length)>0?1:0);av.add("af",(V.af)?V.af+"":"");this._setCommon(av);this._addSegmentation(av)},adCriteoRequestLog:function(aw,av){aw.db="popin_ads";aw.table="adcriteo";aw.add("type","req");aw.add("time_show_seconds",Math.round((Date.now()-T)/1000));aw.add("request_ad",aq.ad);aw.add("response_ad",V.ad.length);this._setCommon(aw);this._addSegmentation(aw)},adInViewLog:function(aw,ay,av){av=av||{};av.common_category=w(av.common_category)?av.common_category:"";aw.db="popin_ads";aw.table="adlogs";aw.add("type",ay.reserved?"reserved_imp":"imp");aw.add("time_show_seconds",Math.round((Date.now()-T)/1000));aw.add("nid",ay.nid);aw.add("campaign",ay.campaign);aw.add("token",ay.token);aw.add("timestamp",Date.now());aw.add("recommend_position",ay.renderPosition);aw.add("ad_position",ay.adPosition);aw.add("channel_id",av.channelId);aw.add("is_feed_module",ay.isFeedModule);if(ay.c1){aw.add("c1",ay.c1)}if(ay.c2){aw.add("c2",ay.c2)}aw.add("title",ay.title||"");aw.add("sample",ay.sample||"");aw.add("v_fruit_word",ay.v_fruit_word||"");aw.add("image_hash",ay.image_hash||"");aw.add("classify",ay.classify||"");aw.add("image",ay.image||"");if(ay.clarity!=="undefined"){aw.add("clarity",ay.clarity)}if(ay.aesthetic!=="undefined"){aw.add("aesthetic",ay.aesthetic)}if(V.sample_tag){aw.add("sample_tag",V.sample_tag)}aw.add("smjad",ay.isSmjAd?1:0);this._setCommon(aw);this._addSegmentation(aw,{common_category:av.common_category});var ax=ar(ay.element);aw.add("fruit_style",ax.articleStyleMonitor&&ax.articleStyleMonitor.getStyleFlag());aw.add("box_style",ax.boxStyleMonitor&&ax.boxStyleMonitor.getStyleFlag());aw.add("referrer_recommend_type",ax.referrerRecommendType)},adCriteoInViewLog:function(aw,ax,av){av=av||{};av.common_category=w(av.common_category)?av.common_category:"";aw.db="popin_ads";aw.table="adcriteo";aw.add("type",ax.reserved?"reserved_imp":"imp");aw.add("time_show_seconds",Math.round((Date.now()-T)/1000));aw.add("nid",ax.nid);aw.add("campaign",ax.campaign);aw.add("token",ax.token);aw.add("timestamp",Date.now());if(ax.c1){aw.add("c1",ax.c1)}if(ax.c2){aw.add("c2",ax.c2)}if(V.sample_tag){aw.add("sample_tag",V.sample_tag)}this._setCommon(aw);this._addSegmentation(aw,{common_category:av.common_category})},adClickLog:function(aw,ax,av){aw.db="popin_ads";aw.table="adlogs";aw.add("type","click");aw.add("time_show_seconds",Math.round((Date.now()-T)/1000));aw.add("nid",ax.nid);aw.add("campaign",ax.campaign);aw.add("token",ax.token);aw.add("position",ax.renderPosition);aw.add("timestamp",Date.now());if(ax.c1){aw.add("c1",ax.c1)}if(ax.c2){aw.add("c2",ax.c2)}if(V.sample_tag){aw.add("sample_tag",V.sample_tag)}aw.add("smjad",ax.isSmjAd?1:0);this._setCommon(aw);this._addSegmentation(aw,{extra:[["ch",av.channelId]]})},adMediaDnaLog:function(av,aw){av.db="popin_media";av.table="mediadna_clicks";av.add("campaign_id",aw.campaign);av.add("timestamp",Date.now());this._setCommon(av)},concatenationPVLog:function(aw){var av=window._popIn_concatenation_param;aw.db="popin_media";aw.table="pageview_concatenation";aw.uniqueId="concatnation_pv";if(!w(av)){aw.valid=false}else{aw.add("user_id",av.user_id);aw.add("useragent_popin",av.useragent);if(location.href.indexOf("tabelog.com")>-1){aw.add("pv_time",av.pv_time);aw.add("pv_hostname",location.host)}aw.add("timestamp",Date.now())}},previewLog:function(av){av.db="popin_media";av.table="discoverylogs";av.uniqueId="pv";av.add("r_url","");av.add("type",0);this._setCommon(av);this._addSegmentation(av)},articleInViewLog:function(ax,aA,aw){ax.db="popin_media";ax.table="discoverylogs";ax.add("r_url",aA.url);ax.add("type",1);ax.add("recommend_type",aA.type);ax.add("recommend_position",aA.renderPosition);ax.add("channel_id",aw.channelId||"");ax.add("is_feed_module",aA.isFeedModule);if(aA.type==="cf"){if(aA.RecallRefer){var az=aA.RecallRefer;if(Array.isArray(az)){az=az.join("|")}ax.add("recall_refer",az)}var av=V.identity;if(typeof av==="object"){for(var ay in av){if(av.hasOwnProperty(ay)){ax.add(ay,av[ay])}}}}this._setCommon(ax);this._addSegmentation(ax)},articleClickLog:function(ax,aB,av,aA){ax.db="popin_media";ax.table="discoverylogs";ax.add("r_url",aB.url);ax.add("type",2);ax.add("recommend_type",aB.type);ax.add("recommend_position",aB.renderPosition);ax.add("is_feed_module",aB.isFeedModule);ax.add("channel_id",aA.channelId||"");if(aB.type==="cf"){if(aB.RecallRefer){var az=aB.RecallRefer;if(Array.isArray(az)){az=az.join("|")}ax.add("recall_refer",az)}var aw=V.identity;if(typeof aw==="object"){for(var ay in aw){if(aw.hasOwnProperty(ay)){ax.add(ay,aw[ay])}}}}this._setCommon(ax);this._addSegmentation(ax,{extra:[["ch",aA.channelId]]})},boxInViewLog:function(av,aw){av.db="popin_media";av.table="discoverylogs";av.add("r_url","");av.add("type",3);av.add("is_feed_module",aw.isFeedModule);av.uniqueId="inview";this._setCommon(av);this._addSegmentation(av)},adBoxRenderedLog:function(av,aw){av.db="popin_media";av.table="discoverylogs";av.add("r_url","");av.add("type",4);av.add("is_feed_module",aw.isFeedModule);av.uniqueId="imp";this._setCommon(av);this._addSegmentation(av)},boxInViewLogs:function(av,aw){av.db="popin_media";av.table="discoverylogs";av.add("r_url","");av.add("type",5);av.add("channel_id",aw.channelId);av.add("is_feed_module",aw.isFeedModule);av.add("box_position",aw.boxPosition);this._setCommon(av);this._addSegmentation(av)},adBoxRenderedLogs:function(av,aw){av.db="popin_media";av.table="discoverylogs";av.add("type",6);av.add("channel_id",aw.channelId);av.add("is_feed_module",aw.isFeedModule);av.uniqueId="imp";av.typeIndex=6;av.channelId=aw.channelId;this._setCommon(av);this._addSegmentation(av)},intextBoxRenderedLog:function(av,aw){av.db="popin_media";av.table="discoverylogs";av.add("type",7);av.add("is_feed_module",aw.isFeedModule||"");av.add("channel_id",aw.channelId||"");av.add("expected_ad",aw.expectedAdTotal);av.add("rendered_ad",aw.renderedAdTotal);this._setCommon(av);this._addSegmentation(av)},videoLog:function(av,ax,aw){av.db="popin_ads";av.table="adlogs";av.add("api_host",aq.apiHost);av.add("type","video_"+aw);av.add("time_show_seconds",Math.round((Date.now()-T)/1000));av.add("nid",ax.video.nid);av.add("campaign",ax.video.campaign);av.add("timestamp",Date.now())},videoMediaDnaLog:function(av,ax,aw){av.db="popin_media";av.table="mediadna_clicks";av.add("campaign_id",ax.video.campaign);av.add("timestamp",Date.now());this._setCommon(av)},checkSmjIdLog:function(av,ay,aw){av.db="popin_ads";av.table="smj_id";av.add("action","localStorage");av.add("key",PopIn6.smjId);var ax=window===top?location.host:(document.referrer.match(/^https?:\/\/([^\/]+)/)||[0,""])[1];av.add("host",ax)}});I.Log._addLogger("inrecsys",{_setCommon:function(av){var ax=av.getTrackValues();ax.td_title=V.title||"";for(var aw in ax){av.add(aw,ax[aw])}var az=V.common_category;if(w(az)){av.add("dish_common_category",Array.isArray(az)?az[0]:az)}av.add("key","key"+T);av.add("now",Date.now());av.add("client_id",ax.td_client_id);av.add("url",aq.target);av.add("popin_user_id",S.getUid());av.add("uid",I.Uid.getUid());av.add("smjId",PopIn6.smjId||"");av.add("device",aq.device);av.add("dish_media",aq.media);av.add("dish_category",V.category||"");av.add("dish_domain",location.host);av.add("td_ip",V.ip||"");av.add("v_dish_labels",V.v_dish_labels||"");av.add("v_dish_tlabels",V.v_dish_tlabels||"");if(w(V.logid)){av.add("logid",V.logid)}av.add("api_host",aq.apiHost);var ay=["td_browser","td_browser_version","td_os","td_os_version"];ay.forEach(function(aA){av.add(aA,at[aA.replace(/td_/,"")])})},_setArticleData:function(aw,aA){aw.add("dish_td_title",V.title||"");aw.add("dish_pubdate",V.pubdate||"");aw.add("dish_td_url",encodeURIComponent(aq.target));var aB=aA.originalUrl;var az=aA.common_category||"";aw.add("fruit_common_category",Array.isArray(az)?az[0]:az);aw.add("fruit_domain",ac(aB).host);aw.add("fruit_td_title",aA.title);aw.add("fruit_pubdate",aA.pubdate);aw.add("fruit_category",aA.category);aw.add("fruit_td_url",aA.pureUrl);aw.add("fruit_media",aA.media);aw.add("fruit_image",aA.image);aw.add("fruit_recommend_type",aA.type);aw.add("fruit_recommend_position",aA.renderPosition);if(aA.type==="cf"){if(aA.RecallRefer){var ay=aA.RecallRefer;if(Array.isArray(ay)){ay=ay.join("|")}aw.add("recall_refer",ay)}var av=V.identity;if(typeof av==="object"){for(var ax in av){if(av.hasOwnProperty(ax)){aw.add(ax,av[ax])}}}}},previewLog:function(av){av.api="other";av.uniqueId="pv";this._setCommon(av);av.add("domain",location.host)},adInViewLog:function(aw,aA,av){if(aA.reserved){aw.valid=false}aw.api="ad";this._setCommon(aw);aw.add("type","imp");aw.add("time_show_seconds",Math.round((Date.now()-T)/1000));aw.add("nid",aA.nid);aw.add("token",aA.token);aw.add("timestamp",T);aw.add("box_position",av.boxPosition||"");aw.add("channel_id",av.channelId);if(aA.c1){aw.add("c1",aA.c1)}if(aA.c2){aw.add("c2",aA.c2)}if(V.sample_tag){aw.add("sample_tag",V.sample_tag)}aw.add("fruit_userid",aA.userid||"");aw.add("fruit_campaign",aA.campaign||"");aw.add("fruit_title",aA.title||"");aw.add("fruit_domain",aA.domain||"");aw.add("fruit_business_type",aA.business_type||"");aw.add("v_fruit_word",aA.v_fruit_word||"");aw.add("image_hash",aA.image_hash);aw.add("ad_position",aA.adPosition);aw.add("sample",aA.sample||"");aw.add("classify",aA.classify||"");aw.add("image",aA.image||"");if(typeof aA.clarity!=="undefined"){aw.add("clarity",aA.clarity||"")}if(typeof aA.aesthetic!=="undefined"){aw.add("aesthetic",aA.aesthetic||"")}var az=["smjId","client_id","c1","popin_version","td_global_id","td_version","td_charset","td_language","td_path"];for(var ax=0;ax<az.length;ax++){delete aw.data[az[ax]]}var ay=ar(aA.element);aw.add("fruit_style",ay.articleStyleMonitor&&ay.articleStyleMonitor.getStyleFlag());aw.add("box_style",ay.boxStyleMonitor&&ay.boxStyleMonitor.getStyleFlag())},articleClickLog:function(aw,ay,av,ax){aw.api="discovery";this._setCommon(aw);aw.add("type","click");this._setArticleData(aw,ay)},articleInViewLog:function(av,aw){this.articleCounter=!w(this.articleCounter)?1:this.articleCounter+1;if(this.articleCounter>(m.inrecsysMaxArticleImpLog||3)){av.valid=false}av.api="discovery";this._setCommon(av);av.add("type","imp");this._setArticleData(av,aw)}});I.Performance={isSupported:(window.performance)&&(typeof window.performance.getEntries==="function")&&(typeof window.performance.now==="function"),enableMonitor:true,sample:0.1,isResourceReady:false,db:"fe_performance",table:"base_monitor",id:+(new Date),marks:{},data:{},resourceFilterRules:[function(av,aw){if(/popin.cc\/searchbox\/.+\.js$/.test(aw.name)){av.addMark("request_config_start",aw.startTime);av.set("rcd",parseInt(aw.duration,10));av.addMark("request_config_end",aw.responseEnd);return true}},function(av,aw){if(aw.name.indexOf(aq.apiUrl)===0){av.addMark("request_api_start",aw.startTime);av.set("rad",parseInt(aw.duration,10));av.addMark("request_api_end",aw.responseEnd);return true}}],init:function(){if(!this.isSupported){return}var av=aq;if(typeof av.performanceSample==="number"){this.sample=av.performanceSample}if(typeof av.enablePerformanceMonitor!=="undefined"){this.enableMonitor=av.enablePerformanceMonitor}if(N!==0||Math.random()>this.sample){this.enableMonitor=false}this.addMark("discovery_init",PopIn6.__PERFORMANCE_DISCOVERY_INIT__);if(this.enableMonitor){this.bindEvent()}return this},bindEvent:function(){var av=this;window.addEventListener("load",function(){av.isResourceReady=true;if(av.marks.is_box_rendered){av.report()}},false)},moniteBoxInview:function(){try{var ax=this;var av=[];aq.templates.forEach(function(az){var ay=az.selector;if(av.indexOf(ay)===-1){i(ay,function(){if(!ax.marks.box_in_view){ax.addTimeMark("box_in_view").report()}});av.push(ay)}})}catch(aw){}},addTimeMark:function(av){if(!this.isSupported){return this}if(av==="box_did_render"&&this.marks.box_did_render!==void 0){return this}this.marks[av]=window.performance.now();return this},addMark:function(av,aw){this.marks[av]=aw;return this},set:function(av,aw){this.data[av]=aw;return this},collectResourceInfo:function(){var av=window.performance.getEntries();var aC=this.resourceFilterRules;var aA=aC.length;var aw={};for(var ay=0,az;az=av[ay++];){for(var ax=0,aB;aB=aC[ax];ax++){if(!aB(this,az)){continue}aw[aB.key]=az;aC.splice(ax,1);aA--;break}if(aA===0){break}}},analyse:function(){var av=this.data;var aw=C();av.host=aw.host;av.user_agent=aw.user_agent;av.browser=aw.browser;av.browser_version=aw.browser_version;av.os=aw.os;av.os_version=aw.os_version;av.device=M();av.screen=aw.screen;av.api_host=aq.apiHost;av.media=aq.media;av.libLoadMode="inline";av.rcs=parseInt(this.marks.request_config_start,10);av.di_awr=this.calculate("discovery_init","api_will_request");av.awr_ras=this.calculate("api_will_request","request_api_start");av.rae_adwd=this.calculate("request_api_end","api_data_will_deal");av.adwd_bdr=this.calculate("api_data_will_deal","box_did_render");av.total=this.calculate("request_config_start","box_did_render");av.popin_version=6;av.performance_id=this.id},calculate:function(ax,aw){var av=this.marks;if(typeof av[ax]==="undefined"||typeof av[aw]==="undefined"){return"null"}return parseInt(av[aw]-av[ax],10)},report:function(){if(!this.enableMonitor||!this.isResourceReady||!this.marks.is_box_rendered||this.isReported){return}this.collectResourceInfo();this.analyse();if(this.data.total>0){this.log(this.data)}this.isReported=true;return this},log:function(ay,ax,av){av=av||this.db;ax=ax||this.table;var aw=new window.Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:av});aw.addRecord(ax,ay);return this}};(function(){var av="_popIn_box_position_style_key_";I.Class("PositionAndStyle",{init:function(aw){this.positionAndStyleObj=aw||{};this.channelId=this.positionAndStyleObj.channelId;this.boxPosition=this.positionAndStyleObj.boxPosition||{};this.articleStyleMonitor=this.positionAndStyleObj.articleStyleMonitor||{};this.position="";this.styleMonitor="";this.timer=null;this.timerTimes=0;this.intervalPositionAndStyle()},intervalPositionAndStyle:function(){this.timer=setTimeout(this.setPositionAndStyle.bind(this),500)},setPositionAndStyle:function(){this.timerTimes++;var ax=[];this.position=this.boxPosition.getPosition();this.styleMonitor=this.articleStyleMonitor.getStyleFlag();if(this.position&&this.styleMonitor){if(window.popInPositionAndStyle){var aw=ad.valid?ad.local.get(av):"[]";aw=JSON.parse(aw);aw.push({channelId:this.channelId,boxPosition:this.position,adStyleMonitor:this.styleMonitor});ax=aw}else{ax=[{channelId:this.channelId,boxPosition:this.position,adStyleMonitor:this.styleMonitor}];window.popInPositionAndStyle=true}ad.valid&&ad.local.set(av,JSON.stringify(ax));clearTimeout(this.timer)}else{this.timerTimes<10?this.intervalPositionAndStyle():clearTimeout(this.timer)}}},{getPositionAndStyle:function(){var aw="";var ay="";var ax=ad.valid?ad.local.get(av):"";if(ax){ax=JSON.parse(ax);if(ax&&ax.length>0){aw=ax[0].boxPosition||"";ay=ax[0].adStyleMonitor||""}}return{boxPosition:aw,adStyleMonitor:ay}}})})();I.Class("Template",{init:function(aw){this.setDefaults();for(var av in aw){this[av]=aw[av]}this.selectorStr=this.selector;this.selector=document.querySelector(this.selectorStr);this.isFullClick=this.plugins.some(function(ax){return ax.toLowerCase().indexOf("clickall")>-1||ax.toLowerCase().indexOf("fullclick")>-1})},setDefaults:function(){this.notFoundImg=window.PopIn6.protocol+"//"+aa+"/images/noimg.png";this.imageInView=true;this.adVideoPosition=1;this.adVideoInsertSelector=false;this.adVideoInsertPosition="BeforeEnd";this.addTargetBlank=false;this.isTargetTop=false;this.plugins=[];this.isFullClick=false;this.canInfiniteAds=true;this.includeRules=[];this.excludeRules=[];this.dateFormat="Y.M.D";this.isClickHistory=true;this.hideHistory=false;this.articleNoDisplayPeriod=7;this.aboutPageType=(M()==="mobile")?"newTab":"dialogue"}});(function(az,aD){var aH="_ss_pp_id";var ax="_ss_pp_id";var aC=/^[\d\w]{32}|\d{13}$/;var aE=false;var aG="";function aI(){aG=aB(az.Cookie.get(ax))||aB(aL(aH))||aF();av(aG)}function aF(){aE=true;return[ay(8),ay(4),ay(4),ay(3),aA()].join("")}function aK(aN){var aM=location.host.split(".");var aP=aM.length-2;var aO;do{aO="."+aM.slice(aP).join(".");az.Cookie.set(ax,aG,{domain:aO});az.Cookie.set(ax,aG,{expires:365,domain:aO,path:"/"});if(az.Cookie.get(ax)){break}}while(--aP>=0)}function aA(){var aM=new Date();aM.setMinutes(aM.getMinutes()+aM.getTimezoneOffset());return""+aM.getTime()}function ay(aM){var aN=parseInt(Math.floor(Math.random()*Math.pow(16,aM))).toString(16);return(""+Math.pow(10,aM)+aN).slice(-aM)}function aB(aM){return aC.test(aM)?aM:false}function av(aM){aw(aH,aM);aK(aM)}function aw(aM,aO){try{localStorage.setItem(aM,aO);return true}catch(aN){return false}}function aL(aM){try{return localStorage.getItem(aM)}catch(aN){return""}}function aJ(aM){if(aD.Treasure2){(new aD.Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:"popin_user_id"})).addRecord("popin_uid_change_log",aM)}else{setTimeout(function(){aJ(aM)},1000)}}aI();az.Class("Uid",{},{getUid:function(){return aG},setUid:function(aN){if(!aB(aN)){return}if(aN!==aG&&!aE){var aM=at||{};aJ({previous_id:aG,current_id:aN,host:location.host,media:m.media,os:aM.os,device:M(),os_version:aM.os_version,browser:aM.browser,browser_version:aM.browser_version,screen:aM.screen,viewport:aM.viewport,charset:aM.charset,language:aM.language,color:aM.color});aE=false}aG=aN;av(aG)}})})(I,window);(function(){var aB="";var aA="";var aF="__pi_u_id__";var aG=/^([\d\w]{32})|(\d{13})-\d+$/;var ax="https://api.popin.cc";var aM=ax+"/iframe/piuid.html?ac=piuid&t=15888888";var aE=null;var aC=false;I.Class("UserId",{init:function(){try{if("function"===typeof window.postMessage&&!/.+_sdk$/.test(m.pid)){aL()}aA=ay(aF)||"";var aP=ay("_ss_pp_id")||"";if(aG.test(aA)){aB=aA.split("-")[0];return}else{aw(aF)}if(/^([\da-f]{32})|(\d{13})$/.test(aP)){aB=aP;aA=aP+"-"+av();aN(aF,aA);aC=true;return}else{aw("_ss_pp_id")}PopIn6.event.addEventListener("result-loaded",function(aQ){var aR=aQ.cookie;if(aR&&aR.uid&&(!aB||aC)){aB=aR.uid;aA=aB+"-"+av();aN(aF,aA);aC=true}})}catch(aO){aK(aO)}},getUid:function(){if(!aB){aH()}return aB}});function aN(aO,aQ){try{localStorage.setItem(aO,aQ);return true}catch(aP){return false}}function ay(aO){try{return localStorage.getItem(aO)}catch(aP){return""}}function aw(aO){try{return localStorage.removeItem(aO)}catch(aP){return""}}function aL(){aE=A(aM);function aO(aP){try{if(aE.window!==aP.source){return}var aQ=JSON.parse(aP.data);if(aQ.action==="get"){aJ(aQ.payload)}else{if(aQ.action==="done"){window.removeEventListener("message",aO);aE.parentNode&&aE.parentNode.removeChild(aE);aE=null}}}catch(aR){aK(aR)}}window.addEventListener("message",aO,false)}function az(aO){if(!aG.test(aO)){return}aE.window.postMessage(JSON.stringify({action:"setId",payload:aO}),ax)}function aJ(aQ){if("string"!==typeof aQ||!aG.test(aQ)){az(aA);return}if(!aB||aC){aA=aQ;aB=aQ.split("-")[0];aN(aF,aQ);aC=false;return}if(aQ===aA){return}var aP=aQ.split("-");var aO=aA.split("-");if(aO[1]>=aP[1]){aB=aP[0];aN(aF,aQ);if(aP[0]!==aO[0]&&ay(aF)===aQ){aD({previous_id:aO[0],previous_create_time:aO[1],current_id:aP[0],current_create_time:aP[1],host:top.location.host})}return}az(aA)}function aI(aO){var aP=parseInt(Math.floor(Math.random()*Math.pow(16,aO))).toString(16);return(""+Math.pow(10,aO)+aP).slice(-aO)}function aH(){aB=[aI(8),aI(4),aI(4),aI(4),aI(12)].join("");aA=aB+"-"+av();aN(aF,aA);aC=true;return aA}function av(){var aO=new Date;aO.setMinutes(aO.getMinutes()+aO.getTimezoneOffset());return aO.getTime()}function aD(aO){if(window.Treasure2){(new window.Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:"popin_user_id"})).addRecord("uid_change_log",aO)}else{setTimeout(function(){aD(aO)},1000)}}function aK(aO){if(window.Treasure2){(new window.Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:"fe_monitor"})).addRecord("err_log",{msg:aO.message||"",stack:aO.stack||"",name:aO.name||"",ua:navigator.userAgent})}else{setTimeout(function(){aK(aO)},1000)}}})();I.Class("Video",{init:function(av,aw){this.container=av;this.template=aw;this.logs={};if(typeof _popIn_noVideo_loader==="function"){PopIn6.event.addEventListener("no-video",_popIn_noVideo_loader)}if(!ad.valid){return}if(M()!=="mobile"){return}var ax=this.getVideo();if(w(ax)){this.renderVideo(ax)}},getVideo:function(){var aB=[];if(w(aq.adVideo)&&w(V.ad_video)){aB=aB.concat(V.ad_video)}if(w(aq.adReservedVideo)&&w(V.ad_reserved_video)){aB=aB.concat(V.ad_reserved_video)}if(aB.length===0){PopIn6.event.fireEvent("no-video",[])}var aA=ad.session.get("_video")||"";aA=aA.split(".");var az=[];for(var ay=0;ay<aB.length;ay++){var ax=aB[ay];var aw=0;for(var av=0;av<aA.length;av++){if(aA[av]===ax.nid){aw++}}if(aw>1){continue}az.push(ax)}return az.length>0?az[0]:false},createContainer:function(){var av=false;if(typeof window._popIn_video6!=="undefined"){return false}if(w(this.template.adVideoInsertSelector)){av=document.body.querySelectorAll(this.template.adVideoInsertSelector)}else{av=this.container.querySelectorAll("._popIn_infinite_page")}if(av.length>0&&this.template.adVideoPosition-1<av.length){return av[this.template.adVideoPosition-1]}return false},renderVideo:function(ax){var aw=this.createContainer();if(!w(aw)){return}var av=W(document.createDocumentFragment(),"div","_popIn_infinite_video");var aB=this.template.adVideoInsertPosition.toLowerCase();if(aB==="beforebegin"){aw.parentNode.insertBefore(av,aw)}if(aB==="afterbegin"){aw.insertBefore(av,aw.firstChild)}if(aB==="beforeend"){aw.appendChild(av)}if(aB==="afterend"){aw.parentNode.insertBefore(av,aw.nextSibling)}var aD=ac(aq.apiUrl);var aE=[["discoveryplus.popin.cc","jp"],["jp.popin.cc","jp"],["tw.popin.cc","tw"],["kr.popin.cc","kr"],["popin.cc","jp"]];var aA="jp";for(var aC=0,az=aE.length;aC<az;aC++){var ay=aE[aC];if(aD.host.indexOf(ay[0])>-1){aA=ay[1];break}}window._popIn_video6={container:av,data:ax,logger:this,country:aA};var aF=document.createElement("script");aF.type="text/javascript";aF.charset="UTF-8";aF.async=true;aF.src=window.PopIn6.protocol+"//"+aa+"/popin_video6_ads-min.js";var aG=document.getElementsByTagName("script")[0];aG.parentNode.insertBefore(aF,aG);return},log:function(ay){var aG=ay.type;var aB=aG+(w(ay.value)?"_"+ay.value:"");if(!w(this.logs[aB])){this.logs[aB]=1}else{this.logs[aB]++}var aw=this.logs[aB];ay.counter=aw;var aD=ay.video;var aI=(w(aD.type)&&aD.type==="vast")?true:false;if(aG==="second"&&aw>1){return}if(aG==="percent"&&aw>1){return}if(aG==="inview"&&aD.tracking_pixel&&aw===1){u(aD.tracking_pixel)}var aH=w(aD.video.background)||(w(aD.video.type)&&aD.video.type==="vertical");var aA=aq.apiHost;function av(aJ){aJ.forEach(function(aK){aC(aK,true)})}function aC(aJ,aK){new Image().src=aJ+(w(aK)?"":"&t="+Date.now())}function az(aJ){I.Log.videoLog(ay,aJ)}if(aB==="full"&&aI&&w(aD.ClickTracking)&&aw===1){av(aD.ClickTracking)}if(aB==="second_1"){}if(w(aD.video.play_time_seconds)&&aB==="second_"+aD.video.play_time_seconds){var aF=aD.url;aF+=((aF.indexOf("?")>0?"&":"?")+"type="+(aH?"vertical_":"")+"imp&api_host="+aA);aC(aF+"&target=c");if(aI&&w(aD.Impression)){av(aD.Impression)}az("playTimeSeconds")}if(aB==="percent_100"){var aE=aD.url;aE+=((aE.indexOf("?")>0?"&":"?")+"type=end&api_host="+aA);aC(aE);if(aI&&w(aD.complete)){av(aD.complete)}}if(aB==="second_2"){this.saveHistory(ay);var ax=aD.url;ax+=((ax.indexOf("?")>0?"&":"?")+"type="+(aH?"vertical_":"")+"imp&api_host="+aA);aC(ax+(w(aD.video.play_time_seconds)?"&target=m":""));az("imp");I.Log.videoMediaDnaLog(ay,aG);if(aI&&w(aD.start)){av(aD.start)}return az("2s")}if(aB==="second_3"){return az("3s")}if(aG==="percent"){if(ay.value%25===0||ay.value===95){if(aI){switch(ay.value){case 25:av(aD.firstQuartile);break;case 50:av(aD.midpoint);break;case 75:av(aD.thirdQuartile);break;default:break}}return az(""+ay.value)}}if(aG==="share"){return az("share_"+ay.value)}if(!w(ay.value)){return az(aG)}},saveHistory:function(aw){var av=ad.session.get("_video");if(w(av)){av+=("."+aw.video.nid)}else{av=aw.video.nid}ad.session.set("_video",av)}});var N=0;N+=(location.href.indexOf("popintest=true")>-1?1:0);N+=(location.href.indexOf("popinadtest=true")>-1?1:0);N+=(location.href.indexOf("popinadid=")>-1?1:0);N+=(location.href.indexOf("popinadimage=")>-1?1:0);N+=(location.href.indexOf("popinvideotest=")>-1?1:0);E._testMode=N;var U="__smjidfa__";if(ad.valid){PopIn6.smjId=ad.local.get(U)}var T=Date.now();var S=new I.UserId();var aq=new I.Config();var V={};E._selectedArticles=aj;E._userId=S;E._config=aq;E._start=T;window.PopIn=window.PopIn||{};window.PopIn.init=function(av){av=av||{};S=new I.UserId();aj=[];aq=new I.Config(av);V={};T=Date.now();new I.Loader()};var B="";if(ad.valid){B=ad.local.get("_ss_pp_id")||""}var O=function(){var az=[["news.google.co","portal_google"],["search.yahoo.co","search_yahoo"],["facebook.co","sns_facebook"],["twitter.co","sns_twitter"],["t.co$","sns_twitter"],["yahoo.co","portal_yahoo"],["goo.ne","portal_goo"],["infoseek.co","portal_infoseek"],["msn.com","portal_msn"],["excite.co.jp","portal_excite"],["livedoor.com","portal_livedoor"],["search.naver.com","search_naver"],["naver.com|naver.jp","sns_naver"],["hatena.ne.jp","sns_hatena"],["aol.jp","portal_aol"],["google.co","search_google"],["www.bing.com","search_bing"],["www.biglobe.ne.jp","portal_biglobe"],["www.smartnews.be|www.smartnews.com","app_smartnews"],["gunosy.com","app_gunosy"],["newspicks.com","app_newspicks"],["antenna.jp","app_antenna"],["paid.outbrain.com","paid_outbrain"],["trc.taboola.com","paid_yahoo"],["dsp.logly.co.jp","paid_logly"]];az.push([location.host,"site"]);var ax="other";var ay=ac(document.referrer).host;for(var aw=0,aA=az.length;aw<aA;aw++){var av=az[aw];if(RegExp(av[0]).test(ay)){ax=av[1];break}}if(document.referrer===""){ax="organic"}if(location.href.indexOf("utm_medium=logly")>-1){ax="paid_logly"}return ax};var x=O();I.Performance.init();PopIn6.event.fireEvent("after-init",[]);new I.Loader()}catch(ap){window.PopIn6.handleError(ap)}})();var b=function(){var s=0;var i=false;var w=function(y){s++;i=y};window.addEventListener("touchstart",w,false);window.addEventListener("click",w,false);window.addEventListener("mousedown",w,false);var u={};function v(y){if(y.valid===false){return false}if(y.uniqueId){var z=y.type+"|"+y.uniqueId;if(y.type==="treasure"&&y.typeIndex===6&&y.uniqueId==="imp"){z=y.type+"|"+y.uniqueId+"|"+y.channelId}if(u[z]){return false}u[z]=1}return true}var x={};x.Class=function(z,y){this[z]=function(){if(this.init){this.init.apply(this,arguments)}};y.type=z.toLowerCase();this[z].prototype=y};x.Class("Basic",{init:function(){this.data=[];this.mode="normal"},add:function(y,z){this.data.push(y+"="+z)},imageLog:function(z){var y=new Image();if(this.onComplete){y.onload=this.onComplete}if(this.onError){y.onerror=this.onError}y.src=z},execute:function(){this.add("t",Date.now());if(PopIn6&&PopIn6.requestCountry&&this.mode==="normal"){this.add("tz",PopIn6.requestCountry)}var y=window.PopIn6.protocol;if(v(this)){switch(this.mode){case"normal":this.imageLog(y+"//rlog.popin.cc/s.gif?"+this.data.join("&"));break;case"other":this.imageLog(y+"//r.popin.cc/log.gif?"+this.data.join("&"));break}}}});x.Class("Treasure",{init:function(){this.data={}},add:function(y,z){this.data[y]=z},imageLog:function(z){var y=new Image();if(this.onComplete){y.onload=this.onComplete}if(this.onError){y.onerror=this.onError}y.src=z},getTrackValues:function(){return PopIn6._logger.trackValues||{}},execute:function(){this.data.interaction_number=s;if(i){if(i.touches){var z=i.touches[0];this.data.interaction_touchx=Math.round(z.pageX);this.data.interaction_touchy=Math.round(z.pageY)}if(i.type==="mousedown"){this.data.interaction_mousex=Math.round(i.pageX);this.data.interaction_mousey=Math.round(i.pageY)}}var y=this;this.add("popin_version",6);if(v(this)){if(this.db==="popin_media"&&this.table==="discoverylogs"){this.sendToUts();return this}this.sendToTd();if(this.db==="popin_ads"&&this.table==="adlogs"){this.sendToUts()}return this}},sendToTd:function(){var z=new Treasure2({writeKey:"8378/25839e06ce4cc1cab55c1c1f1e49d336d6d1d48f",database:this.db});z.set("$global","td_global_id","td_global_id");var y=this;z.addRecord(this.table,this.data,function(){if(y.onComplete){y.onComplete()}},function(){if(y.onError){y.onError()}})},sendToUts:function(){var y=this._uainfo;if(y){this.data.td_os=y.os;this.data.td_os_version=y.os_version;this.data.td_browser=y.browser;this.data.td_browser_version=y.browser_version}delete this.data.td_ip;var z=JSON.stringify(this.data);this.imageLog(["https://log.popin.cc/log","/"+this.db,"/"+this.table,"?data="+btoa(unescape(encodeURIComponent(z))),"&t="+new Date().getTime()].join(""))}});x.Class("Inrecsys",{init:function(){this.data={}},getTrackValues:function(){return PopIn6._logger.trackValues||{}},add:function(y,z){this.data[y]=z},imageLog:function(z){var y=new Image();if(this.onComplete){y.onload=this.onComplete}if(this.onError){y.onerror=this.onError}y.src=z},execute:function(){this.add("popin_version",6);var y=JSON.stringify(this.data);var z=btoa(unescape(encodeURIComponent(y)));if(v(this)){this.imageLog("https://inrecsys.popin.cc/PopinService/Logs/"+this.api+"?data="+z)}}});PopIn6.log=function(y){y(new x.Basic());y(new x.Treasure());y(new x.Inrecsys())};if(PopIn6._tempLog){while(PopIn6._tempLog.length>0){PopIn6.log(PopIn6._tempLog.shift())}}};b();var d=function(u){var s=[];s.push("all-test");var w=PopIn5.$F.isMobileDevice()?"mobile":"pc";if(location.href.indexOf("popintest=true")>0){s.push(w+"-test")}s.push(w);s.push("all");for(var v=0;v<s.length;v++){var x=s[v];if(PopIn5.$F.notEmpty(r[x])&&PopIn5.$F.notEmpty(r[x][u])){return r[x][u]}}return false};if(typeof _popIn5_config["*"]==="undefined"){_popIn5_config["*"]=m}if(typeof _popIn5_config.Discovery==="undefined"){_popIn5_config.Discovery=function(){return false}}if(typeof _popIn5_config.Read==="undefined"){_popIn5_config.Read=function(){return d("Read")}}var a=false;var f=document.getElementsByTagName("script");for(var g=0,c=f.length;g<c;g++){var h=f[g];if(h.src.indexOf("popin_discovery5-min.js")>-1){a=true}}if(!a){var p=document.createElement("script"),n=window.PopIn6;p.type="text/javascript";p.charset="utf-8";p.async=true;p.src=n.protocol+"//"+n.domain+"/popin_discovery5-min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(p,t)}return}var d=function(u){var s=[];s.push("all-test");var w=PopIn5.$F.isMobileDevice()?"mobile":"pc";if(location.href.indexOf("popintest=true")>0){s.push(w+"-test")}s.push(w);s.push("all");for(var v=0;v<s.length;v++){var x=s[v];if(PopIn5.$F.notEmpty(r[x])&&PopIn5.$F.notEmpty(r[x][u])){return r[x][u]}}return false};if(typeof _popIn5_config["*"]==="undefined"){_popIn5_config["*"]=m}if(typeof _popIn5_config.Discovery==="undefined"){_popIn5_config.Discovery=function(){return d("Discovery")}}if(typeof _popIn5_config.Read==="undefined"){_popIn5_config.Read=function(){return d("Read")}}var p=document.createElement("script");p.type="text/javascript";p.charset="utf-8";p.async=true;p.src=window.location.protocol+"//api.popin.cc/popin_discovery5-min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(p,t)})();